if (self.CavalryLogger) { CavalryLogger.start_js(["eBT5I"]); }

__d("BlueBarFocusListener",["CSS","Deferred","Event","TimeSlice"],(function a(b,c,d,e,f,g){__p&&__p();var h="f_key",i="f_click",j=null,k=function k(){j=null};function l(r){c("CSS").removeClass(r,h);c("CSS").removeClass(r,i)}var m=c("TimeSlice").guard(function(r){if(j)j.reject();j=new(c("Deferred"))();j.then(function(s){l(r);c("CSS").addClass(r,s)}).done(k,k)},"BlueBarFocusListener focusIn",{propagationType:c("TimeSlice").PropagationType.ORPHAN});function n(){if(j)j.resolve(h)}function o(r){if(j)j.reject();c("CSS").removeClass(r,h);c("CSS").addClass(r,i)}function p(r){return function(event){r(event.getTarget())}}var q={listen:function r(s){if(!s)return;c("Event").listen(s,"focusout",p(l));c("Event").listen(s,"focusin",p(m));c("Event").listen(s,"click",p(o));c("Event").listen(s,"keyup",n)}};f.exports=q}),null);
__d("RoyalBluebarTransitions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INDETERMINATE:"Indeterminate",PULSE:"Pulse",SHIMMER:"Shimmer",NONE:"none",OFF:"off"})}),null);
__d("RoyalBluebar",["cx","Arbiter","BigPipe","CSS","Event","QuicklingFetchStreamConfig","RoyalBluebarTransitions","Run","SubscriptionsHandler","ge","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=null,j=false,k=c("QuicklingFetchStreamConfig"),l=k.experimentName,m=l!==c("RoyalBluebarTransitions").OFF&&l!==c("RoyalBluebarTransitions").NONE;function n(){i&&i()}var o={_subscriptionHandler:null,_getSubscriptionHandler:function p(){if(!this._subscriptionHandler){this._subscriptionHandler=new(c("SubscriptionsHandler"))();c("Run").onUnload(function(){this._subscriptionHandler.release();this._subscriptionHandler=null}.bind(this))}return this._subscriptionHandler},fixOnScroll:function p(q){this._getSubscriptionHandler().addSubscriptions(c("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(r,s){var t="_50ti",u="_33rf";if(q.firstChild instanceof Element)c("CSS").conditionClass(q.firstChild,t,s);if(q.firstChild instanceof Element)c("CSS").conditionClass(q.firstChild,u,!s);c("Arbiter").inform("reflow")}))},informOnClick:function p(q){this._getSubscriptionHandler().addSubscriptions(c("Event").listen(q,"click",function(event){if(c("Arbiter").inform("BlueBar/homeClick",event)===false)event.preventDefault()}))},stopAnimatingAfterDD:function p(){var q=c("Arbiter").subscribeOnce(c("BigPipe").Events.init,function(s,t){t.arbiter.subscribeOnce(c("BigPipe").Events.displayed,n)}),r=c("Run").onAfterLoad(n);i=function s(){i=null;c("Arbiter").unsubscribe(q);r.remove();o.stopTransitionAnimation()}},startTransitionAnimation:function p(){if(m){i&&i();var q=c("ge")(k.bluebarTransitionElement);if(q)c("CSS").addClass(q,k.bluebarTransitionClass)}},stopTransitionAnimation:function p(){__p&&__p();var q;if(m){var q=function(){__p&&__p();var r,s=k,t=c("ge")(s.bluebarTransitionElement);if(!t)return{v:void 0};if(l===c("RoyalBluebarTransitions").INDETERMINATE){if(!j)(function(){__p&&__p();j=true;c("CSS").addClass(t,"finishing");var u=void 0;i=function v(){i=null;j=false;clearTimeout(u);c("CSS").removeClass(t,"finishing");c("CSS").removeClass(t,s.bluebarTransitionClass)};u=c("setTimeoutAcrossTransitions")(i,200)})()}else c("CSS").removeClass(t,s.bluebarTransitionClass)}();if(typeof q==="object")return q.v}}};f.exports=o}),null);
__d("NotificationComponentsBootloader",["Promise","JSResource"],(function a(b,c,d,e,f,g){"use strict";var h=[c("JSResource")("NotificationList.react").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationJewelList.react").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationAsyncWrapper").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationSeenState").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationStore").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationUpdates").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationJewelController").__setRef("NotificationComponentsBootloader")];function i(){return new(c("Promise"))(function(j){c("JSResource").loadAll(h,function(k,l,m){j([k,l,m])})})}f.exports={load:i}}),null);
__d("BanzaiLooper",["Banzai"],(function a(b,c,d,e,f,g){var h={retry:true};function i(k,l){c("Banzai").post("banzai_looper:"+k,l,h)}var j={labelBinaryClassificationExample:function k(l){i("binary_classification_example",babelHelpers["extends"]({operation:"label"},l))}};f.exports=j}),null);
__d("NotificationJewelPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$NotificationJewelPerformanceTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$NotificationJewelPerformanceTypedLogger1)};h.prototype.updateData=function(j){this.$NotificationJewelPerformanceTypedLogger1=babelHelpers["extends"]({},this.$NotificationJewelPerformanceTypedLogger1,j);return this};h.prototype.setBadgeCurrentCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_current_count=j;return this};h.prototype.setBadgeInitialCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_initial_count=j;return this};h.prototype.setClientSessionID=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_session_id=j;return this};h.prototype.setClientTimestamp=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_timestamp=j;return this};h.prototype.setEagerLoadTriggerAndDelay=function(j){this.$NotificationJewelPerformanceTypedLogger1.eager_load_trigger_and_delay=j;return this};h.prototype.setEventName=function(j){this.$NotificationJewelPerformanceTypedLogger1.event_name=j;return this};h.prototype.setJewelName=function(j){this.$NotificationJewelPerformanceTypedLogger1.jewel_name=j;return this};h.prototype.setVC=function(j){this.$NotificationJewelPerformanceTypedLogger1.vc=j;return this};var i={badge_current_count:true,badge_initial_count:true,client_session_id:true,client_timestamp:true,eager_load_trigger_and_delay:true,event_name:true,jewel_name:true,vc:true};f.exports=h}),null);
__d("JewelLogger",["BanzaiLooper","EventProfiler","NotificationJewelPerformanceTypedLogger","NotificationListConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("BanzaiLooper").labelBinaryClassificationExample,k=c("NotificationListConfig").sessionID;h=babelHelpers.inherits(l,c("NotificationJewelPerformanceTypedLogger"));i=h&&h.prototype;function l(t){i.constructor.call(this);if(!l.$JewelTypedLoggerWithSession1[t])l.$JewelTypedLoggerWithSession1[t]={};this.$JewelTypedLoggerWithSession2=t}l.prototype.setEventName=function(t){this.$JewelTypedLoggerWithSession3=t;return i.setEventName.call(this,t)};l.prototype.log=function(){if(!l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]){l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]=true;this.setClientSessionID(k);this.setJewelName(this.$JewelTypedLoggerWithSession2);i.log.call(this)}};l.$JewelTypedLoggerWithSession1={};function m(t){if(t.jewelName==="notifications"&&t.eventName==="list_populated")s("notifications",t.timestamp);new l(t.jewelName).setEventName(t.eventName).setClientTimestamp(t.timestamp).log()}function n(t){var u=t.trigger,v=t.eagerLoadDelayInMs,w=babelHelpers.objectWithoutProperties(t,["trigger","eagerLoadDelayInMs"]),x=u+":"+v;new l(t.jewelName).setEventName(w.eventName).setClientTimestamp(w.timestamp).setEagerLoadTriggerAndDelay(x).log()}var o={logDataEagerLoad:function t(u){if(u.eventName==="data_eager_load_trigger")n(u);else m(u)},logJsBootload:function t(u){if(u.eventName==="js_bootload_trigger")n(u);else m(u)},logFirstJewelClick:function t(u){r(u.jewelName,u.timestamp);new l(u.jewelName).setEventName("first_jewel_click").setClientTimestamp(u.timestamp).setBadgeInitialCount(u.badgeInitialCount).setBadgeCurrentCount(u.badgeCurrentCount).log();if(u.jewelName==="notifications")j({trace:k,loopName:"notifications_jewel_click",label:"positive"})},logJewelInitialize:function t(u){new l(u.jewelName).setEventName("jewel_initialize").setBadgeInitialCount(u.badgeInitialCount).log();if(u.jewelName==="notifications")j({trace:k,loopName:"notifications_jewel_click",label:"tentatively_negative"})},logJewelListComponentEvent:m},p={notifications:["Notifications_Jewel_Button"]},q={};function r(t,u){if(!p[t]||!window.performance||!performance.timing||!performance.timing.navigationStart)return;u+=performance.timing.navigationStart;var v=c("EventProfiler").markManualStart(p[t],"click",u);if(q[t]&&q[t].end)v.markManualEnd(q[t].end);else q[t]={instrumentation:v}}function s(t,u){if(!window.performance||!performance.timing||!performance.timing.navigationStart)return;u+=performance.timing.navigationStart;if(q[t]&&q[t].instrumentation)q[t].instrumentation.markManualEnd(u);else q[t]={end:u}}f.exports=o}),null);
__d("NotificationsDefaultEndpointURI",[],(function a(b,c,d,e,f,g){"use strict";f.exports="/ajax/notifications/client/get.php"}),null);
__d("XWebClientAdsUnifiedNavNotificationsListController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/ads_unified_nav/",{})}),null);
__d("XWebClientBusinessManagerNotificationsListController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/business_manager/",{})}),null);
__d("NotificationEndpointState",["BusinessUserConf","KeyedCallbackManager","NotificationsDefaultEndpointURI","RangedCallbackManager","XWebClientAdsUnifiedNavNotificationsListController","XWebClientBusinessManagerNotificationsListController","flatMapArray","gkx","objectValues","react-relay/classic/query/stableStringify"],(function a(b,c,d,e,f,g){__p&&__p();var h,i=(h={},h[c("NotificationsDefaultEndpointURI")]=c("BusinessUserConf").businessUserID&&c("gkx")("AT4A6ZMUIyU9Lv9GalY23GUzOGmhCdrjDTnIRMBXKwTQ3IRz_6KrOYxhP-poHdLcJCp6jBr4hhCVMbQFtZuX6f_Qcs16xJihqv1PHBcY14tXjQ")?"BusinessManagerNotificationsPayloadPagelet":"WebNotificationsPayloadPagelet",h);if(c("gkx")("AT4A6ZMUIyU9Lv9GalY23GUzOGmhCdrjDTnIRMBXKwTQ3IRz_6KrOYxhP-poHdLcJCp6jBr4hhCVMbQFtZuX6f_Qcs16xJihqv1PHBcY14tXjQ")){i[c("XWebClientAdsUnifiedNavNotificationsListController").getURIBuilder().getURI().toString()]="AdsUnifiedNavNotificationsPayloadPagelet";i[c("XWebClientBusinessManagerNotificationsListController").getURIBuilder().getURI().toString()]="BusinessManagerNotificationsPayloadPagelet"}j.getInstance=function(k){"use strict";var l=k.classification!=null?k.classification:"_",m=k.readness!=null?k.readness:"_",n="(c)"+l+"(s)"+m,o=j.$NotificationEndpointState1[k.endpointURI];if(o==null)j.$NotificationEndpointState1[k.endpointURI]=o={};if(o[n]==null)o[n]=new j(k);return o[n]};j.getAllInstances=function(k){"use strict";__p&&__p();var l=void 0;if(k!=null)l=[k];else l=Object.keys(j.$NotificationEndpointState1);return c("flatMapArray")(l,function(k){var m=j.$NotificationEndpointState1[k];if(m==null)return[];else return c("objectValues")(m)})};function j(k){__p&&__p();var l=k.businessUserID,m=k.classification,n=k.endpointURI,o=k.readness;"use strict";this.notifications=new(c("KeyedCallbackManager"))();this.businessUserID=l!=null?l:c("BusinessUserConf").businessUserID;this.classification=m;this.endpointURI=n;this.readness=o;var p=function p(q){var r=this.notifications.getResource(q);return r.creation_time};this.order=new(c("RangedCallbackManager"))(p.bind(this),function(q,r){return r-q});this.graphQLPageInfo=null}j.prototype.getConfig=function(){"use strict";return{businessUserID:this.businessUserID,classification:this.classification,endpointURI:this.endpointURI,readness:this.readness}};j.prototype.getHash=function(){"use strict";return c("react-relay/classic/query/stableStringify")(this.getConfig())};j.prototype.getRequestParams=function(k){"use strict";var l=Math.max(0,k-this.order.getAllResources().length);return{businessUserID:this.businessUserID,classification:this.classification!=null?this.classification.toLowerCase():undefined,cursor:this.graphQLPageInfo&&this.graphQLPageInfo.end_cursor,filter:this.readness==null?undefined:this.readness==="SEEN_AND_READ"?"read":"unread",readness:this.readness,length:l}};j.prototype.getStreamingTransportPageletName=function(){"use strict";return i[this.endpointURI]};j.$NotificationEndpointState1={};f.exports=j}),null);
__d("performanceNowNoFallback",["performance"],(function a(b,c,d,e,f,g){f.exports=c("performance").now?function(){return c("performance").now()}:null}),null);
__d("NotificationEagerLoader",["invariant","Promise","Arbiter","AsyncRequest","BigPipe","JewelLogger","NotificationComponentsBootloader","NotificationEndpointState","NotificationListConfig","NotificationsDefaultEndpointURI","normalizeNotificationUpdatePayload","once","performanceAbsoluteNow","performanceNowNoFallback"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("JewelLogger").logDataEagerLoad,j=c("JewelLogger").logJsBootload,k=c("NotificationListConfig").dataEagerFetchTrigger,l=c("NotificationListConfig").jsBootloadTrigger,m=c("NotificationListConfig").numNotificationsPerPage,n=k!=="none"?m:0,o={hasData:n>0,targetNumToLoad:n,endpointState:p(),payloadPromise:null};function p(){var t={endpointURI:c("NotificationsDefaultEndpointURI")};return c("NotificationEndpointState").getInstance(t)}function q(t){if(!c("performanceNowNoFallback"))return c("NotificationComponentsBootloader").load().then(function(){});else{j({jewelName:"notifications",eventName:"js_bootload_trigger",trigger:l,timestamp:c("performanceNowNoFallback")()-t,eagerLoadDelayInMs:0});j({jewelName:"notifications",eventName:"js_bootload_start",timestamp:c("performanceNowNoFallback")()});return c("NotificationComponentsBootloader").load().then(function(){j({jewelName:"notifications",eventName:"js_bootload_end",timestamp:c("performanceNowNoFallback")()})})}}function r(t){__p&&__p();if(c("performanceNowNoFallback")){i({jewelName:"notifications",eventName:"data_eager_load_trigger",trigger:k,timestamp:c("performanceNowNoFallback")()-t,eagerLoadDelayInMs:0});i({jewelName:"notifications",eventName:"data_eager_load_start",timestamp:c("performanceNowNoFallback")()})}var n=o.targetNumToLoad,u=o.endpointState,v=u.getRequestParams(n),w=new(c("AsyncRequest"))(u.endpointURI).setAllowCrossPageTransition(true).setData(v),x=w.exec().then(function(y){if(c("performanceNowNoFallback"))i({jewelName:"notifications",eventName:"data_eager_load_end",timestamp:c("performanceNowNoFallback")()});return y.getPayload()});o.hasData||h(0);return x.then(function(y){return c("normalizeNotificationUpdatePayload")(y)})}function s(t){__p&&__p();return new(c("Promise"))(function(u,v){__p&&__p();c("Arbiter").subscribeOnce(c("BigPipe").Events.init,c("once")(function(w,x){__p&&__p();var y=x.arbiter;if(!y){v("No arbiter from BigPipe init event");return}y.subscribeOnce(c("BigPipe").Events.displayed,c("once")(function(z,A){var B=A.ts,C=c("performanceAbsoluteNow")()-B;t(C).then(function(D){return u(D)})["catch"](function(D){return v(D)})}))}))})}if(l==="bigpipe_display_done")s(q);if(k==="bigpipe_display_done")o.payloadPromise=s(r);f.exports={eagerlyLoadedData:o}}),null);
__d("NotificationSeenFilter",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALL:"all",SEEN_ONLY:"seen_only",UNSEEN_ONLY:"unseen_only",READ_ONLY:"read_only",UNREAD_ONLY:"unread_only",SEEN_BUT_UNREAD_ONLY:"seen_unread_only"})}),null);
__d("NotificationSeenState",["NotificationConstants","NotificationSeenFilter","NotificationUpdates","createObjectFrom","ifRequired","objectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=1,i=2,j=0,k=h,l=3,m=c("NotificationConstants").PayloadSourceType.INITIAL_LOAD,n={SEEN_AND_READ:l,SEEN_BUT_UNREAD:k,UNSEEN_AND_UNREAD:j},o={};c("ifRequired")("NotificationStore",function(t){var u=t.getAllForAllEndpoints(),v=c("objectValues")(u),w=q(v);Object.keys(w).forEach(function(x){var y=w[x];o[x]=y})});function p(t){__p&&__p();var u=[],v=[];Object.keys(t).forEach(function(w){__p&&__p();var x=t[w],y=o[w];o[w]=x;if(y===undefined){u.push(w);v.push(w);return}var z=y^x;if(z&h)u.push(w);if(z&i)v.push(w)});u.length&&c("NotificationUpdates").didUpdateSeenState(u);v.length&&c("NotificationUpdates").didUpdateReadState(v)}c("NotificationUpdates").subscribe("update-notifications",function(t,u){var v=u.nodes;if(!v||!v.length)return;var w=u.payloadsource,x=c("NotificationConstants").PayloadSourceType,y=w==x.ENDPOINT,z=v.filter(function(B){var C=B.alert_id;return!y||o[C]===undefined}),A=q(z);p(A)});function q(t){var u={};t.forEach(function(v){if(v.seen_state)u[v.alert_id]=n[v.seen_state]});return u}c("NotificationUpdates").subscribe("update-seen",function(t,u){__p&&__p();if(!u.seenState)return;var v=[],w={};Object.keys(u.seenState).forEach(function(y){if(!u.seenState||!u.seenState[y]){v.push(y);return}var z=o[y];if(z!==undefined)w[y]=z|h});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,j),w);p(x)});c("NotificationUpdates").subscribe("update-read",function(t,u){__p&&__p();if(!u.readState)return;var v=[],w={};Object.keys(u.readState).forEach(function(y){__p&&__p();if(!u.readState)return;var z=u.readState[y];if(z){v.push(y);return}var A=o[y];if(A!==undefined)w[y]=A&~i;else if(u.payloadsource==m)w[y]=k});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,l),w);p(x)});function r(t){var u=o[t];return u}var s={isRead:function t(u){return r(u)===l},isSeen:function t(u){return r(u)!==j},getUnseenCount:function t(){return s.getUnseenIDs().length},getUnseenIDs:function t(){return Object.keys(o).filter(function(u){return o[u]===j})},getUnreadCount:function t(){return s.getUnreadIDs().length},getUnreadIDs:function t(){return Object.keys(o).filter(function(u){return o[u]!==l})},validateFilter:function t(u,v){switch(v){case c("NotificationSeenFilter").SEEN_ONLY:return s.isSeen(u);case c("NotificationSeenFilter").UNSEEN_ONLY:return!s.isSeen(u);case c("NotificationSeenFilter").READ_ONLY:return s.isRead(u);case c("NotificationSeenFilter").UNREAD_ONLY:return!s.isRead(u);case c("NotificationSeenFilter").SEEN_BUT_UNREAD_ONLY:return s.isSeen(u)&&!s.isRead(u);default:return true}}};f.exports=s}),6);
__d("NotificationJewelHeaderController",["DOM","Event","NotificationSeenState","NotificationUpdates","NotificationUserActions"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";c("Event").listen(i,"click",function(){c("NotificationUserActions").markAllNotificationsAsRead()});c("NotificationUpdates").subscribe("read-state-updated",function(){if(j)c("DOM").setContent(j,c("NotificationSeenState").getUnreadCount())})}f.exports=h}),null);
__d("NotificationJewelListController",["NotificationComponentsBootloader","NotificationListConfig","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NotificationListConfig").numNotificationsPerPage,i=null,j=null,k=null;function l(m,n){"use strict";this.$NotificationJewelListController1=false;this.$NotificationJewelListController2=false;this.$NotificationJewelListController3=m;this.$NotificationJewelListController4=n}l.prototype.open=function(){"use strict";this.$NotificationJewelListController1=true;this.$NotificationJewelListController5()};l.prototype.pause=function(){"use strict";this.$NotificationJewelListController2=true;this.$NotificationJewelListController5()};l.prototype.unpause=function(){"use strict";this.$NotificationJewelListController2=false;this.$NotificationJewelListController5()};l.prototype.$NotificationJewelListController5=function(){"use strict";if(!i||!j)c("NotificationComponentsBootloader").load().done(function(m){var n=m[0],o=m[1],p=m[2];i=n;j=o;k=p;this.$NotificationJewelListController6()}.bind(this));else this.$NotificationJewelListController6()};l.prototype.$NotificationJewelListController6=function(){"use strict";if(!i||!j||!k)return;c("ReactDOM").render(c("React").createElement(k,null,c("React").createElement(i,{hasEverBeenOpened:this.$NotificationJewelListController1,paused:this.$NotificationJewelListController2,tracking:this.$NotificationJewelListController4.tracking,shortenTimestamp:this.$NotificationJewelListController4.shortenTimestamp,businessID:this.$NotificationJewelListController4.businessID,maxHeight:this.$NotificationJewelListController4.maxHeight,useChevron:this.$NotificationJewelListController4.useChevron,chevronType:this.$NotificationJewelListController4.chevronType,numPerPage:h,listRenderer:j,upsell:this.$NotificationJewelListController4.upsell||null,endpoint:this.$NotificationJewelListController4.endpoint})),this.$NotificationJewelListController3)};f.exports=l}),null);
__d("createNotificationSubscriptions",["invariant","Bootloader","JSLogger","NotificationConstants","NotificationUpdates","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null,j=null,k=0;function l(){if(i==null)i=c("JSLogger").create("notification_updates");return i}function m(){for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];c("Bootloader").loadModules(["NotificationSeenState","NotificationStore"],function(){c("NotificationUpdates").handleUpdate.apply(c("NotificationUpdates"),p)},"createNotificationSubscriptions")}function n(o){__p&&__p();var p=o.subscribeToNotificationHides,q=o.subscribeToNotificationReadnessUpdates,r=o.subscribeToNotificationSeenStateUpdates,s=o.subscribeToRealtimeChannelNotifications;return{setup:function t(){__p&&__p();k++;if(j==null){j=new(c("SubscriptionsHandler"))();j.addSubscriptions(p(function(v){m(c("NotificationConstants").PayloadSourceType.LIVE_SEND,{hiddenState:v})}),q(function(v){m(c("NotificationConstants").PayloadSourceType.LIVE_SEND,{readState:v})}),r(function(v){m(c("NotificationConstants").PayloadSourceType.LIVE_SEND,{seenState:v})}),s(function(v){l().debug("notifications_received",v);if(v!==null)m(c("NotificationConstants").PayloadSourceType.LIVE_SEND,{nodes:v,servertime:Date.now()/1e3})}))}var u=false;return{remove:function v(){if(u===true)return;j!=null||h(0);u=true;k--;if(k===0){j.release();j=null}}}}}}f.exports=n}),null);
__d("NotificationSubscriptions",["Arbiter","BusinessUserConf","ChannelConstants","FacebookWebNotificationsSubscription","NotificationTokens","createNotificationSubscriptions","createObjectFrom","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(!i.eligible_buckets||!i.eligible_buckets.includes("PRIORITY_INBOX"))i.eligible_buckets=["PRIORITY_INBOX"].concat(i.eligible_buckets||[]);if(!i.sort_keys){var j=i.creation_time||Date.now()/1e3;i.sort_keys=[""+j,j+"000000"]}return i}f.exports=c("createNotificationSubscriptions")({subscribeToNotificationHides:function i(j){return c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("notification_hidden"),function(k,l){var m=c("NotificationTokens").tokenizeIDs([l.obj.notif_id+""]),n=l.obj.state===1;j(c("createObjectFrom")(m,n))})},subscribeToNotificationReadnessUpdates:function i(j){return c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("notifications_read"),function(k,l){var m=c("NotificationTokens").tokenizeIDs(l.obj.alert_ids),n=l.obj.new_state;j(c("createObjectFrom")(m,n))})},subscribeToNotificationSeenStateUpdates:function i(j){return c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("notifications_seen"),function(k,l){var m=c("NotificationTokens").tokenizeIDs(l.obj.alert_ids),n=l.obj.new_state;j(c("createObjectFrom")(m,n))})},subscribeToRealtimeChannelNotifications:function i(j){__p&&__p();if(c("BusinessUserConf").businessUserID==null&&c("gkx")("AT4A6ZMUIyU9Lv9GalY23GUzOGmhCdrjDTnIRMBXKwTQ3IRz_6KrOYxhP-poHdLcJCp6jBr4hhCVMbQFtZuX6f_Qcs16xJihqv1PHBcY14tXjQ"))return c("FacebookWebNotificationsSubscription").subscribe({event:"NEW_NOTIFICATION",callback:function k(l){j(l?[h(l)]:null)}});else return c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("notification_json"),function(k,l){var m=Date.now(),n=l.obj.nodes;if(n)n.forEach(function(o){o=h(o);o.receivedTime=m});j(n)})}})}),null);
__d("GlobalNotificationSubscriptionsSubscription",["NotificationSubscriptions"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("NotificationSubscriptions").setup()}),null);
__d("NotificationPayloadNotificationsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1483570661755833"};j.getQueryID=function(){"use strict";return"152489938714753"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XNotificationsSyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/sync/",{lastSync:{type:"Int",required:true}})}),null);
__d("NotificationSync",["invariant","Arbiter","AsyncRequest","ChannelConstants","CurrentUser","JSLogger","NotificationConstants","NotificationPayloadNotificationsQueryWebGraphQLQuery","NotificationsDefaultEndpointURI","NotificationUpdates","WebGraphQL","WebPixelRatio","XNotificationsSyncController","gkx","idx","ifRequired","objectValues"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("JSLogger").create("notifications"),j="channel_reload",k=0;function l(v){var w=c("NotificationUpdates").getserverTime()?c("NotificationUpdates").getserverTime():k,x=c("XNotificationsSyncController").getURIBuilder().setInt("lastSync",w!=null?Math.trunc(w):w).getURI();v.setHandler(m).setOption("suppressErrorAlerts",true).setErrorHandler(n).setMethod("GET").setReadOnly(true).setURI(x).setAllowCrossPageTransition(true)}function m(v){var w=v.getPayload();if(w.syncPayload)c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.SYNC,w.syncPayload)}function n(v){}function o(){var v=new(c("AsyncRequest"))();v.setIsBackgroundRequest(true);l(v);v.send();i.bump(j)}function p(){__p&&__p();var v={endpointURI:c("NotificationsDefaultEndpointURI")},w=void 0;c("ifRequired")("NotificationStore",function(y){w=c("objectValues")(y.getAll(v))});if(w==null)return null;var x=w.map(function(y){return y.creation_time}).filter(Boolean);if(x.length===0)return null;return Math.max.apply(Math,x)}function q(){__p&&__p();var v=p();if(v==null)return;c("WebGraphQL").exec(new(c("NotificationPayloadNotificationsQueryWebGraphQLQuery"))({environment:"WEB_DESKTOP",is_work_user:c("CurrentUser").isWorkUser(),newer_than:v,scale:c("WebPixelRatio").get(),should_fetch_buckets:false,should_fetch_sort_keys:false,should_include_server_time:false})).done(function(w){if(w){var x,y=(x=w)!=null?(x=x.viewer)!=null?(x=x.notifications)!=null?x.edges:x:x:x,z=y&&y.map(function(B){var C=B.node;return C}).filter(Boolean);if(z==null)return;var A={nodes:z};c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.SYNC,A)}})}function r(){c("gkx")("AT4A6ZMUIyU9Lv9GalY23GUzOGmhCdrjDTnIRMBXKwTQ3IRz_6KrOYxhP-poHdLcJCp6jBr4hhCVMbQFtZuX6f_Qcs16xJihqv1PHBcY14tXjQ")?q():o()}var s=null,t=0,u={setup:function v(w){__p&&__p();t++;if(k===null||w>k)k=w;if(s==null)s=c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,r);var x=false;return{remove:function y(){if(x===true)return;s!=null||h(0);x=true;t--;if(t===0){s.unsubscribe();s=null}}}}};f.exports=u}),null);
__d("GlobalNotificationSyncSubscription",["InitialServerTime","NotificationSync"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("NotificationSync").setup(c("InitialServerTime").serverTime)}),null);
__d("XBrowserPushDisabledController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XServiceWorkerSessionChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/service_workers/session/persist/",{})}),null);
__d("BrowserPushSessionChange.react",["cx","fbt","ix","AsyncRequest","BanzaiLogger","Image.react","ImageBlock.react","LayerFadeOnHide","React","ReloadPage","XBrowserPushDisabledController","XBrowserPushXOutController","XServiceWorkerSessionChangeController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:true,spin:false},this.$BrowserPushSessionChange1=function(t){if(t)return;this.setState({dialogShown:false});this.$BrowserPushSessionChange2("session_keep");var u=c("XServiceWorkerSessionChangeController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(u).setMethod("POST").setData({app_id:this.props.push.appID}).setAllowCrossPageTransition(true).setHandler(function(v){this.props.onHide()}.bind(this)).send()}.bind(this),this.$BrowserPushSessionChange3=function(){this.setState({spin:true});this.$BrowserPushSessionChange2("session_uninstall");this.$BrowserPushSessionChange2("xout");var t=c("XBrowserPushXOutController").getURIBuilder().getURI(),u=function(){this.props.push.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest")).done(function(v){c("ReloadPage").now()})}.bind(this);new(c("AsyncRequest"))().setURI(t).setMethod("POST").setHandler(u).setAllowCrossPageTransition(true).send()}.bind(this),p}n.prototype.$BrowserPushSessionChange2=function(event){"use strict";var o={event:event,appid:this.props.push.appID,surface:"session_change"};c("BanzaiLogger").log("BrowserPushLoggerConfig",o)};n.prototype.componentDidMount=function(){"use strict";this.$BrowserPushSessionChange2("session_change_prompt")};n.prototype.render=function(){"use strict";if(!this.state.dialogShown)return null;var o=j("92724");return c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.$BrowserPushSessionChange1,width:445,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,i._("\ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc774 \uc124\uc815\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4")),c("React").createElement(c("XUIDialogBody.react"),null,this.state.spin?c("React").createElement(c("XUISpinner.react"),{size:"large"}):c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},c("React").createElement(c("Image.react"),{src:o,alt:i._("\ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc774 \uc124\uc815\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4")}),c("React").createElement("div",null,c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"header3"},i._("\uc0c8 \uc54c\ub9bc\uc744 \ubc1b\uc73c\uba74 \ud654\uba74 \ubaa8\uc11c\ub9ac\uc5d0 \ud45c\uc2dc\ub429\ub2c8\ub2e4."))),c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("\uc54c\ub9bc\uc744 \ubc1b\uc73c\ub824\uba74 \uc774 \ucef4\ud4e8\ud130\uc5d0\uc11c Facebook \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub97c \uc720\uc9c0\ud574\uc57c \ud569\ub2c8\ub2e4. \uacf5\uc6a9 \ucef4\ud4e8\ud130\ub97c \uc0ac\uc6a9 \uc911\uc774\uac70\ub098 \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub97c \uc720\uc9c0\ud558\uc9c0 \uc54a\uc73c\ub824\uba74 \ucde8\uc18c\ub97c \ud074\ub9ad\ud558\uc5ec \ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc \uc124\uc815\uc744 \ud574\uc81c\ud558\uc138\uc694.")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("\ucde8\uc18c"),onClick:this.$BrowserPushSessionChange3}),c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))};n.propTypes={onHide:m.func.isRequired,push:m.object.isRequired};f.exports=n}),null);
__d("MockChromeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=!this.props.image&&c("WorkModeConfig").is_work_user,p=this.props.image?this.props.image:this.props.defaultImage;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_257o")},c("React").createElement("span",{className:"_61kd"}),c("React").createElement(c("Image.react"),{className:(!o?"_ega":"")+(o?" _2rk4":""),draggable:false,src:p}),c("React").createElement("div",{className:"_egb"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."):i._("\uc0c8 \uc54c\ub9bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."),defaultImage:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("76304")};f.exports=m}),null);
__d("MockEdgeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=i._("Microsoft Edge");return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_2eed")},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_2eee":"")+(c("WorkModeConfig").is_work_user?" _3_qv":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_2eef"},c("React").createElement("h3",{className:"_2eeg"},c("BrowserPushStrings").title),c("React").createElement("p",{className:"_2eeh"},n),c("React").createElement("div",{className:"_2eei"},o," \xb7 ",window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."):i._("\uc0c8 \uc54c\ub9bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137")};f.exports=m}),null);
__d("MockFirefoxBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=this.props.isWindows;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_g5o")},o?this.$MockFirefoxBrowserNotification1(n):this.$MockFirefoxBrowserNotification2(n))};m.prototype.$MockFirefoxBrowserNotification2=function(n){return c("React").createElement("div",{className:"_g5p"},c("React").createElement("div",{className:"_g5q"},c("React").createElement(c("Image.react"),{draggable:false,src:j("355144")})),c("React").createElement("div",{className:"_g5r"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("cite",null,window.location.hostname),c("React").createElement("p",null,n)),c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}))};m.prototype.$MockFirefoxBrowserNotification1=function(n){return c("React").createElement("div",{className:"_g5w"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("div",{className:"_g5x"},c("React").createElement("span",{className:"_g5z"}),c("React").createElement("span",{className:"_g7w"})),c("React").createElement("div",{className:"_g5r"},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_g7x"},c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname))))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."):i._("\uc0c8 \uc54c\ub9bc\uc774 \uc788\uc2b5\ub2c8\ub2e4."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137"),isWindows:false};f.exports=m}),null);
__d("MockBrowserNotification.react",["MockChromeBrowserNotification.react","MockEdgeBrowserNotification.react","MockFirefoxBrowserNotification.react","React","UserAgent"],(function a(b,c,d,e,f,g){"use strict";f.exports=function h(i){var j=c("UserAgent").isPlatform("Windows");if(c("UserAgent").isBrowser("Firefox"))return c("React").createElement(c("MockFirefoxBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}));else if(c("UserAgent").isBrowser("Edge"))return c("React").createElement(c("MockEdgeBrowserNotification.react"),i);return c("React").createElement(c("MockChromeBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}))}}),null);
__d("NotificationPermissionNotice.react",["cx","fbt","Event","Keys","React","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=[],m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.componentDidMount=function(){"use strict";l.push(c("Event").listen(window,"mousedown",this.props.onHide));l.push(c("Event").listen(window,"keydown",function(event){if(event.keyCode===c("Keys").ESC)this.props.onHide()}.bind(this)))};n.prototype.componentWillUnmount=function(){"use strict";while(l.length>0){var o=l.pop();o.remove()}};n.prototype.renderLayers=function(){"use strict";var o=this.props.shortText?i._("\uc790\ubb3c\uc1e0 \ubaa8\uc591 \uc544\uc774\ucf58\uc744 \ud074\ub9ad\ud558\uc5ec {browser_name}\uc5d0 \ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc744 \ubcf4\ub0bc \uc218 \uc788\ub294 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud558\uc138\uc694.",[i.param("browser_name",this.props.browserName)]):i._("\uc124\uc815\uc744 \ubcc0\uacbd\ud558\ub824\uba74 \uc790\ubb3c\uc1e0 \ubaa8\uc591 \uc544\uc774\ucf58\uc744 \ud074\ub9ad\ud558\uc5ec {browser_name}\uc5d0 \ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc744 \ubcf4\ub0bc \uc218 \uc788\ub294 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud558\uc138\uc694.",[i.param("browser_name",this.props.browserName)]);return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.noticeAnchor}.bind(this),shown:true,position:"below",onCloseButtonClick:this.props.onHide,key:"nux"},o)};n.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement("span",{ref:"noticeAnchor",className:"_1_i1"}),this.renderLayers())};function n(){"use strict";j.apply(this,arguments)}n.propTypes={onHide:m.func.isRequired,shortText:m.bool,browserName:m.string.isRequired};f.exports=n}),null);
__d("NotificationPermissionRequest.react",["cx","React","Spotlight.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("Spotlight.react"),{shown:true,onHide:this.props.onHide,key:"spotlight"},c("React").createElement("div",{className:"_n3"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={onHide:k.func};f.exports=l}),null);
__d("NotificationPermissionRequestWithPreview.react",["cx","fbt","ix","BrowserPushStrings","Image.react","ImageBlock.react","MockBrowserNotification.react","React","Spotlight.react","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=function m(o){var p=void 0;return c("React").createElement(c("Spotlight.react"),{onHide:o.onHide,shown:o.shown,wash:"xui"},c("React").createElement("span",{ref:function q(r){return p=r},className:"_m4w"}),c("React").createElement("div",{className:"_n3"},c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function q(){return p},key:"nux",shown:o.shown,onCloseButtonClick:o.onHide,position:"below"},c("React").createElement("strong",null,i._("\uac70\uc758 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")),c("React").createElement("br",null),i._("\uc774\uc81c \"\ud5c8\uc6a9\"\uc744 \ud074\ub9ad\ud558\uc5ec \uc54c\ub9bc \ud65c\uc131\ud654\ub97c \uc644\ub8cc\ud558\uc138\uc694."))))};k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={acceptPromptShown:false,dialogShown:true,spinnerShown:false},this.$NotificationPermissionRequestWithPreview2=function(t){this.setState({dialogShown:t})}.bind(this),this.$NotificationPermissionRequestWithPreview3=function(){this.setState({acceptPromptShown:!this.props.showSpinnerWhileRequesting,dialogShown:this.props.showSpinnerWhileRequesting,spinnerShown:this.props.showSpinnerWhileRequesting});this.props.onAccept&&this.props.onAccept(this.$NotificationPermissionRequestWithPreview4)}.bind(this),this.$NotificationPermissionRequestWithPreview4=function(){if(this.$NotificationPermissionRequestWithPreview1)this.setState({acceptPromptShown:false,dialogShown:false})}.bind(this),this.$NotificationPermissionRequestWithPreview5=function(){this.setState({acceptPromptShown:false})}.bind(this),p}n.prototype.componentWillMount=function(){this.$NotificationPermissionRequestWithPreview1=true};n.prototype.componentWillUnmount=function(){this.$NotificationPermissionRequestWithPreview1=false};n.prototype.render=function(){var o=this.props,p=o.notificationImage,q=o.notificationMessage,r=o.showFixedTopDialog,s=o.showTurnOffMessage,t=o.showModalRedesign,u=c("React").createElement(c("MockBrowserNotification.react"),{className:"_m4x",image:p,message:q}),v=this.state.spinnerShown?c("React").createElement(c("XUIDialogBody.react"),{className:"_mjv"},c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648"),width:40,height:40,className:"_mjw"}),c("React").createElement("div",null,c("React").createElement("strong",null,i._("\uac70\uc758 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")),c("React").createElement("p",{className:"_mjx"},i._("\uc774\uc81c \"\ud5c8\uc6a9\"\uc744 \ud074\ub9ad\ud558\uc5ec \uc54c\ub9bc \ud65c\uc131\ud654\ub97c \uc644\ub8cc\ud558\uc138\uc694.")))),s?c("React").createElement(c("ImageBlock.react"),{spacing:"large",className:"_1k1v"},c("React").createElement(c("Image.react"),{draggable:false,src:j("420120"),width:40,height:40,className:"_mjw"}),c("React").createElement("div",null,c("React").createElement("strong",null,i._("\ub098\uc911\uc5d0 \ud558\uc2dc\uaca0\uc5b4\uc694?")),c("React").createElement("p",{className:"_mjx"},i._("{=Notifications Settings}\uc73c\ub85c \uc774\ub3d9\ud558\uc5ec \uc54c\ub9bc \uc18c\ub9ac\ub97c \ub044\uac70\ub098 \uc54c\ub9bc\uc744 \ud574\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",[i.param("=Notifications Settings",c("React").createElement("strong",null,i._("\uc54c\ub9bc \uc124\uc815")))])))):null):c("React").createElement(c("XUIDialogBody.react"),{className:"_mjy"},c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648"),className:"_mjw"}),c("React").createElement("div",null,this.props.isWebNotifications?c("BrowserPushStrings").explanation_web_notifications:c("BrowserPushStrings").explanation)),u),w=this.state.spinnerShown?null:c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("\ub098\uc911\uc5d0 \ud558\uae30"),onClick:this.props.onClose}),c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("\uc124\uc815"),onClick:this.$NotificationPermissionRequestWithPreview3,use:"special"})),x=r?40:null;return c("React").createElement("div",{className:"_m4y"},c("React").createElement(c("XUIDialog.react"),{className:t?"_mk3":"",layerHideOnBlur:false,onToggle:this.$NotificationPermissionRequestWithPreview2,shown:this.state.dialogShown,titleID:"notification-permission-title",width:t?540:445,fixedTopPosition:x},t?null:c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},c("React").createElement("span",{id:"notification-permission-title"},c("BrowserPushStrings").turn_on)),v,w),c("React").createElement(m,{shown:this.state.acceptPromptShown,onHide:this.$NotificationPermissionRequestWithPreview5}))};f.exports=n}),null);
__d("incognito",["regeneratorRuntime","Promise","UserAgent","WebStorage"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){__p&&__p();var i;return c("regeneratorRuntime").async(function j(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:i=window.RequestFileSystem||window.webkitRequestFileSystem;if(!i){k.next=3;break}return k.abrupt("return",new(c("Promise"))(function(l){return i(window.TEMPORARY,10,function(){return l(false)},function(){return l(true)})}));case 3:if(!(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))){k.next=5;break}return k.abrupt("return",!window.indexedDB);case 5:if(!c("UserAgent").isBrowser("Firefox >= 16")){k.next=7;break}return k.abrupt("return",new(c("Promise"))(function(l){var m=window.indexedDB.open("__test__");m.onsuccess=function(){return l(false)};m.onerror=function(n){n.preventDefault();l(true)}}));case 7:if(!c("UserAgent").isBrowser("Safari")){k.next=9;break}return k.abrupt("return",!c("WebStorage").getLocalStorage());case 9:return k.abrupt("return",false);case 10:case"end":return k.stop()}},null,this)}f.exports=h}),null);
__d("JewelBadgeCountRecorder",["invariant","Arbiter","performanceNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=Object.create(null),j={onCountUpdated:function k(l,m){if(i[m.jewel]==null)i[m.jewel]=[];var n=i[m.jewel];n.push({timestamp:c("performanceNow")(),count:m.count});if(n.length>1e3)n.shift()},getCountAtTimestamp:function k(l,m){var n=i[l];n!=null||h(0);n.length>0||h(0);var o=n.find(function(p,q){var r=n[q+1];return q===0&&m<p.timestamp||m>p.timestamp&&(r==null||m<r.timestamp)});o||h(0);return o.count}};c("Arbiter").subscribe("jewel/count-updated",j.onCountUpdated);f.exports=j}),null);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$CrossWindowEventEmitter2=k;this.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",k+":");this.$CrossWindowEventEmitter1.addValueChangeCallback(function(l,m,n){var o,event=l.split(":")[1],p=c("FBJSON").parse(n),q=p.__v;(o=i.emit).call.apply(o,[this,event].concat(q))}.bind(this))}j.prototype.emit=function(k){var l;for(var m=arguments.length,n=Array(m>1?m-1:0),o=1;o<m;o++)n[o-1]=arguments[o];this.emitRemote.apply(this,[k].concat(n));(l=i.emit).call.apply(l,[this,k].concat(n))};j.prototype.emitRemote=function(k){for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];this.$CrossWindowEventEmitter1.set(k,m)};f.exports=j}),null);
__d("FriendingSurfaceVisitationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$FriendingSurfaceVisitationTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$FriendingSurfaceVisitationTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$FriendingSurfaceVisitationTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FriendingSurfaceVisitationTypedLogger1=babelHelpers["extends"]({},this.$FriendingSurfaceVisitationTypedLogger1,j);return this};h.prototype.setAppVersion=function(j){this.$FriendingSurfaceVisitationTypedLogger1.app_version=j;return this};h.prototype.setBadgeCount=function(j){this.$FriendingSurfaceVisitationTypedLogger1.badge_count=j;return this};h.prototype.setClientTimestamp=function(j){this.$FriendingSurfaceVisitationTypedLogger1.client_timestamp=j;return this};h.prototype.setRawRefTab=function(j){this.$FriendingSurfaceVisitationTypedLogger1.raw_ref_tab=j;return this};h.prototype.setRawTab=function(j){this.$FriendingSurfaceVisitationTypedLogger1.raw_tab=j;return this};h.prototype.setRefPage=function(j){this.$FriendingSurfaceVisitationTypedLogger1.ref_page=j;return this};h.prototype.setSurface=function(j){this.$FriendingSurfaceVisitationTypedLogger1.surface=j;return this};h.prototype.setTargetProfileID=function(j){this.$FriendingSurfaceVisitationTypedLogger1.target_profile_id=j;return this};h.prototype.setVC=function(j){this.$FriendingSurfaceVisitationTypedLogger1.vc=j;return this};var i={app_version:true,badge_count:true,client_timestamp:true,raw_ref_tab:true,raw_tab:true,ref_page:true,surface:true,target_profile_id:true,vc:true};f.exports=h}),null);
__d("JewelCountSideLoader",["invariant","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={},j={},k={},l={queueInstances:function m(n,o,p){i[n]={badge:o,root:p}},updateCountAndQueueArgs:function m(n,o,p){__p&&__p();var q=j[n];if(q){q.updateCountAndArgs(p,o);return}var r=i[n];r||h(0);k[n]={count:o,args:p};c("CSS").conditionClass(r.root,"hasNew",!!o);r.badge.setLegacyContent(o);return},getOverwritesForJewel:function m(n){if(k[n.name])return k[n.name];j[n.name]=n;return null}};f.exports=l}),null);
__d("NotificationJewelFunnelLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"WWW_NOTIFICATION_FUNNEL",FUNNEL_LOGGING_EVENT:{FETCH_NOTIFICATIONS:"fetch_notifications",OPEN_JEWEL:"open_jewel",CLOSE_JEWEL:"close_jewel",MOUSE_OVER_ON_JEWEL:"mouse_over_on_jewel",SCROLL_TO_FETCH:"scroll_to_fetch",FETCH_NEXT_SET:"fetch_next_set",CLEAR_BADGE_COUNT:"clear_badge_count"}}}),null);
__d("normalizedEventTimestamp",["performance"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(i!=null)if(c("performance")&&c("performance").timing&&c("performance").timing.navigationStart&&i>c("performance").timing.navigationStart)return i-=c("performance").timing.navigationStart;else return i;else if(c("performance").now)return c("performance").now();return null}f.exports=h}),null);
__d("JewelBase",["csx","invariant","Promise","Arbiter","ArbiterMixin","CrossWindowEventEmitter","CSS","DOM","Event","FriendingSurfaceVisitationTypedLogger","NotificationJewelFunnelLoggingConstants","FunnelLogger","HTML","JewelCountSideLoader","Keys","JewelLogger","Run","TabIsolation","TimeSlice","JewelBadgeCountRecorder","Toggler","TooltipData","firstClickTimestamp","killswitch","mixin","normalizedEventTimestamp","reportData"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,m=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,n=c("JewelLogger").logFirstJewelClick,o=c("JewelLogger").logJewelInitialize,p=new(c("CrossWindowEventEmitter"))("JewelBase"),q={};j=babelHelpers.inherits(r,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function r(s,t){"use strict";__p&&__p();k.constructor.call(this);this.name=t.name;this.label=t.label;this.loggedFirstClick=false;this.root=s;this.badge=t.badge;this.countNew=0;this.fastTogglerShow=Boolean(t.fastTogglerShow);this.initialCount=t.count||0;this.escHandler=null;this.bootload_module=t.bootload_module;this.bootload_args=t.bootload_args;this.bootload_eager_modules=t.bootload_eager_modules;this.bootload_conf=t.bootload_conf;this.bootloading=null;this.togglerInstance=c("Toggler").getInstance(s).setSticky(false);o({jewelName:this.name,badgeInitialCount:this.initialCount});c("JewelBadgeCountRecorder").onCountUpdated("jewel/initial-count",{jewel:this.name,count:this.initialCount});if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase3();else c("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this));if(this.bootload_conf&&this.bootload_eager_modules&&this.bootload_conf.dataPreloader)this.bootload_eager_modules.setUpDataPreloader();if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase5();if(t.keepOpenForSnowlift)this.togglerInstance.setPrePageTransitionCallback(this.$JewelBase6.bind(this));q[this.name]=this;this.$JewelBase7();var u=this.getFlyout();u||i(0);var v=new(c("TabIsolation"))(u);if(c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES"))c("Toggler").createInstance(u).setSticky(false);else c("Toggler").createInstance(this.root).setFastShow(this.fastTogglerShow).setSticky(false);this.$JewelBase8();c("Toggler").listen("show",this.root,function(w){__p&&__p();c("FunnelLogger").appendAction(m,l.OPEN_JEWEL);this.inform("user-open");this.$JewelBase9();this.hasNew()&&this.markSeen();this.reset();c("Arbiter").inform("layer_shown",{type:"Jewel"});v.enable();this.setupEvents();this.$JewelBase10();if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase11();else this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)).done()}.bind(this));c("Toggler").listen("hide",this.root,function(w,x){c("FunnelLogger").appendAction(m,l.CLOSE_JEWEL);c("FunnelLogger").endFunnel(m);this.hasNew()&&this.markSeen();this.reset();this.inform("closed");c("Arbiter").inform("layer_hidden",{type:"Jewel"});v.disable();this.removeEvents();this.$JewelBase8()}.bind(this));c("Arbiter").subscribe("jewel/count-updated",function(w,x){x.jewel==this.name&&this.update(x)}.bind(this));c("Arbiter").subscribe("jewel/hide",function(w,x){this.hide()}.bind(this));p.addListener("count-updated",function(w){w.jewel==this.name&&this.update(w)}.bind(this))}r.prototype.getRoot=function(){"use strict";return this.root};r.prototype.hide=function(){"use strict";if(this.isOpen())c("Toggler").hide(this.root)};r.prototype.getFlyout=function(){"use strict";if(this.$JewelBase1==null)this.$JewelBase1=c("DOM").find(this.root,".__tw");return this.$JewelBase1};r.prototype.hasNew=function(){"use strict";return c("CSS").hasClass(this.root,"hasNew")};r.prototype.isOpen=function(){"use strict";return c("CSS").hasClass(this.root,"openToggler")};r.prototype.reset=function(){"use strict";c("FunnelLogger").appendAction(m,l.CLEAR_BADGE_COUNT);c("CSS").removeClass(this.root,"hasNew")};r.prototype.setContent=function(s){"use strict";var t=c("DOM").find(this.root,"ul.jewelItemList");c("DOM").setContent(t,c("HTML")(s))};r.prototype.update=function(s){"use strict";__p&&__p();if(s.animation&&this.badge.setAnimation)this.badge.setAnimation(s.animation);this.countNew=s.count;if(typeof this.countNew==="number"&&this.countNew<0)this.countNew=0;this.badge.setLegacyContent(this.countNew);var t=isNaN(this.countNew)||this.countNew>0;c("CSS").conditionClass(this.root,"hasNew",t);if(this.updatedOnce&&this.bootload_conf&&this.bootload_eager_modules&&this.bootload_conf.dataPreloader)this.bootload_eager_modules.informBadgeChange();this.updatedOnce=true;this.inform("updated",s,c("Arbiter").BEHAVIOR_STATE)};r.prototype.setupEvents=function(){"use strict";this.escHandler=c("Event").listen(document.documentElement,"keydown",function(s){if(s.keyCode===c("Keys").ESC)this.hide()}.bind(this))};r.prototype.removeEvents=function(){"use strict";if(this.escHandler){this.escHandler.remove();this.escHandler=null}};r.prototype.markSeen=function(){"use strict";var s=function(){c("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:0},c("Arbiter").BEHAVIOR_STATE);p.emitRemote("count-updated",{jewel:this.name,count:0});this.inform("marked-seen")}.bind(this);if(this.bootload_conf&&this.bootload_conf.fixContinuation)c("TimeSlice").guard(s,"JewelOpen markSeen",{propagationType:c("TimeSlice").PropagationType.ORPHAN})();else s()};r.prototype.getButton=function(){"use strict";if(this.$JewelBase2==null)this.$JewelBase2=c("DOM").find(this.root,"a.jewelButton");return this.$JewelBase2};r.prototype.$JewelBase8=function(){"use strict";var s=this.getButton();c("TooltipData").set(s,this.label);s.setAttribute("data-tooltip-delay","500")};r.prototype.$JewelBase10=function(){"use strict";c("TooltipData").remove(this.getButton())};r.prototype.$JewelBase6=function(s,t){"use strict";if(!this.$JewelBase12(t.from)&&!this.$JewelBase12(t.to))this.togglerInstance&&this.togglerInstance.hide()};r.prototype.$JewelBase12=function(s){"use strict";return s&&Object.prototype.hasOwnProperty.call(s.getQueryData(),"theater")};r.prototype.$JewelBase9=function(){"use strict";__p&&__p();if(!this.loggedFirstClick){this.loggedFirstClick=true;var s=this.getButton(),t=c("firstClickTimestamp").get(s);if(t){t=c("normalizedEventTimestamp")(t);if(t)n({jewelName:this.name,timestamp:t,badgeCurrentCount:c("JewelBadgeCountRecorder").getCountAtTimestamp(this.name,t),badgeInitialCount:this.initialCount})}}c("reportData")("jewel_click",{gt:{count:this.countNew,initial:this.initialCount,jewel:this.name}});if(this.name==="requests")new(c("FriendingSurfaceVisitationTypedLogger"))().setSurface("jewel").setBadgeCount(this.countNew).log()};r.prototype.$JewelBase4=function(){"use strict";if(!this.bootload_module)return c("Promise").resolve();if(!this.bootloading)this.bootloading=new(c("Promise"))(function(s,t){this.bootload_module.load().then(function(u){new u(this,this.bootload_args);s()}.bind(this))["catch"](t)}.bind(this));return this.bootloading};r.prototype.$JewelBase3=function(){"use strict";if(this.bootload_eager_modules)if(this.bootload_conf.eagerloadAfterDD||this.bootload_conf.eagerloadAfterDDifBadge&&this.initialCount>0)this.bootload_eager_modules.loadModules(this);else c("Run").onAfterLoad(function(){return this.bootload_eager_modules.loadModules(this)}.bind(this));else c("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this))};r.prototype.$JewelBase5=function(){"use strict";this.bootload_eager_modules&&this.bootload_eager_modules.mount(this)};r.prototype.$JewelBase11=function(){"use strict";if(this.bootload_eager_modules)this.bootload_eager_modules.load(this);else this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)).done()};r.prototype.$JewelBase7=function(){"use strict";if(this.bootloading)return;var s=c("JewelCountSideLoader").getOverwritesForJewel(this);if(!s)return;this.updateCountAndArgs(s.args,s.count)};r.prototype.updateCountAndArgs=function(s,t){"use strict";for(var u in s)if(s[u])this.bootload_args[u]=s[u];if(t)c("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:t},c("Arbiter").BEHAVIOR_STATE)};f.exports=r}),null);
__d("ModalMask",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=0,j={show:function k(){i++;if(!h){h=c("DOM").create("div",{id:"modalMaskOverlay"});c("DOM").appendContent(document.body,h)}},hide:function k(){if(i){i--;if(!i&&h){c("DOM").remove(h);h=null}}},getNode:function k(){return h}};f.exports=j}),null);
__d("BootloadOnInteraction",["Event","JSResource","emptyFunction"],(function a(b,c,d,e,f,g){var h={mount:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],m=arguments.length<=3||arguments[3]===undefined?c("emptyFunction"):arguments[3],n=[c("Event").listen(j,"mouseover",o),c("Event").listen(j,"focus",o)];function o(){n.forEach(function(p){return p.remove()});m();c("JSResource").loadAll(k,l)}}};f.exports=h}),null);
__d("MercuryJewelBootloadModules",["BootloadOnInteraction","JSResource","MercuryMessengerJewelPerfConfig","JewelLogger","emptyFunction","performanceNowNoFallback","gkx"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("JewelLogger").logJsBootload,i=null,j=null,k=c("emptyFunction"),l=Boolean(c("MercuryMessengerJewelPerfConfig").dataPreloader),m=[c("JSResource")("MercuryJewel").__setRef("MercuryJewelBootloadModules")].concat(c("MercuryMessengerJewelPerfConfig").bundleBootloader&&!c("gkx")("AT6eyXl423uQE-Jb0azr47RbpPou2zKGHXyh5BgbFc66evKkbXL5nvoMFF2KuXSRQQkLGWOTwXgYsG1pC_FEPo7fo7Cv2bkUFU26zf6jXbiBwQ")?[c("JSResource")("MercuryOrderedThreadlist").__setRef("MercuryJewelBootloadModules"),c("JSResource")("MercuryThreadInformer").__setRef("MercuryJewelBootloadModules"),c("JSResource")("MercuryThreads").__setRef("MercuryJewelBootloadModules"),c("JSResource")("Toggler").__setRef("MercuryJewelBootloadModules"),c("JSResource")("MessengerGraphQLThreadlistFetcher.bs").__setRef("MercuryJewelBootloadModules")].concat(c("gkx")("AT6UQYwUddP3mFRA2jSAHz5G8W4YH7DReOPqJDgDcN2CcKBVNvHLaRu9Ls7vj8hLqRfiS-BtpxTiCSP4nFtjU4fE6CFT439h9m9DMedAwrNDxw")?[c("JSResource")("MercuryServerRequests").__setRef("MercuryJewelBootloadModules")]:[]):[]);function n(t,u){i=i||new t(u,u.bootload_args)}function o(t,u){n(t,u);u.inform("opened")}function p(){c("MercuryMessengerJewelPerfConfig").logJewelData&&c("performanceNowNoFallback")&&h({jewelName:"mercurymessages",eventName:"js_bootload_start",timestamp:c("performanceNowNoFallback")()})}function q(){c("MercuryMessengerJewelPerfConfig").logJewelData&&c("performanceNowNoFallback")&&h({jewelName:"mercurymessages",eventName:"js_bootload_end",timestamp:c("performanceNowNoFallback")()})}function r(t){if(k!=c("emptyFunction"))k(t);else j=t}var s={mount:function t(u){var v=arguments.length<=1||arguments[1]===undefined?c("emptyFunction"):arguments[1],w=u.getButton();c("BootloadOnInteraction").mount(w,m,function(x){q();o(x,u)},function(){p();v()})},load:function t(u){p();c("JSResource").loadAll(m,function(v){q();o(v,u)})},loadModules:function t(u){p();c("JSResource").loadAll(m,function(v){q();if(c("MercuryMessengerJewelPerfConfig").eagerFlyoutOnAfterLoad)o(v,u);else n(v,u)})},setUpDataPreloader:function t(){if(c("MercuryMessengerJewelPerfConfig").dataPreloader){c("MercuryMessengerJewelPerfConfig").dataPreloader.onLoaded(r);c("MercuryMessengerJewelPerfConfig").dataPreloader.onError(r)}},shouldUsePreloadedData:function t(){return l},informBadgeChange:function t(){l=false},onDataPreload:function r(t){if(j)t(j);else k=t}};f.exports=s}),null);
__d("CSSClassTransition",[],(function a(b,c,d,e,f,g){__p&&__p();var h=[];function i(){}Object.assign(i,{go:function j(k,l,m,n){var o;for(var p=0;p<h.length;p++)if(h[p](k,l,m,n)===true)o=true;if(!o&&k)k.className=l},registerHandler:function j(k){h.push(k);return{remove:function l(){var m=h.indexOf(k);if(m>=0)h.splice(m,1)}}}});f.exports=i}),null);
__d("QuicklingAugmenter",["URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i={addHandler:function j(k){h.push(k)},augmentURI:function j(k){var l=[],m=new(c("URI"))(k);h.forEach(function(n){var o=n(m);if(!o)return m;l.push(n);m=m.addQueryData(o)});h=l;return m}};f.exports=i}),null);
__d("Quickling",["ArtilleryOnUntilOffLogging","AjaxPipeRequest","Arbiter","BigPipe","ContextualComponent","CSSClassTransition","DocumentTitle","PageHooks","PageEvents","PageNavigationStageLogger","PageTransitionsRegistrar","QuicklingAugmenter","QuicklingConfig","QuicklingFetchStreamConfig","QuicklingRefreshOverheadUtil","RoyalBluebar","RoyalBluebarTransitions","Run","URI","UserAgent_DEPRECATED","PHPQuerySerializer","TimerStorage","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","ge","goOrReplace","isEmpty","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j;c("requireWeak")("PageTransitions",function(w){j=w});var k=c("QuicklingConfig").version,l=c("QuicklingConfig").sessionLength,m=new RegExp(c("QuicklingConfig").inactivePageRegex),n=0,o,p="",q={isActive:function w(){return true},isPageActive:function w(x){__p&&__p();if(x==="#")return false;x=new(c("URI"))(x);if(x.getDomain()&&x.getDomain()!=new(c("URI"))(window.location.href).getDomain())return false;if(x.getPath()=="/l.php"){var y=x.getQueryData().u;if(y){y=new(c("URI"))(unescape(y)).getDomain();if(y&&y!=new(c("URI"))(window.location.href).getDomain())return false}}var z=x.getPath(),A=x.getQueryData();if(!c("isEmpty")(A))z+="?"+c("PHPQuerySerializer").serialize(A);if(Object.keys(A).reduce(function(B,C){return B||c("QuicklingConfig").badRequestKeys.includes(C)},false))return false;return!m.test(z)},getLoadCount:function w(){return n}};function r(w){__p&&__p();w=w||"Facebook";c("DocumentTitle").set(w);if(c("UserAgent_DEPRECATED").ie()){p=w;if(!o)o=window.setInterval(function(){var x=p,y=c("DocumentTitle").get();if(x!=y)c("DocumentTitle").set(x)},5e3,false)}}h=babelHelpers.inherits(s,c("AjaxPipeRequest"));i=h&&h.prototype;function s(w){"use strict";__p&&__p();var x={version:k};i.constructor.call(this,w,{quickling:x});this._processFirstResponse=function(y){var z=y.getPayload();r(z.title);window.scrollTo(0,0);var A=y.getRequest();if(A)c("CSSClassTransition").go(document.body,z.body_class||"",j.getMostRecentURI(),A.getURI());c("Arbiter").inform("quickling/response");c("ArtilleryOnUntilOffLogging").onNewPageLoad()};this._isQuickling=true}s.prototype._preBootloadFirstResponse=function(w){"use strict";return true};s.prototype._fireDomContentCallback=function(){"use strict";this._request&&this._request.cavalry&&this._request.cavalry.setTimeStamp("t_domcontent");if(j)j.transitionComplete();i._fireDomContentCallback.call(this)};s.prototype._fireOnloadCallback=function(){"use strict";var w=this._request;if(w!=null&&w.cavalry){w.cavalry.setTimeStamp("t_hooks");w.cavalry.setTimeStamp("t_layout");w.cavalry.setTimeStamp("t_onload")}i._fireOnloadCallback.call(this)};s.prototype.isPageActive=function(w){"use strict";return q.isPageActive(w)};s.prototype._versionCheck=function(w){"use strict";__p&&__p();if(w.version==k){c("QuicklingRefreshOverheadUtil").onQuicklingVersionMatch();return true}var x=["quickling","ajaxpipe","ajaxpipe_token","ajaxpipe_fetch_stream"];c("PageNavigationStageLogger").setCookieForNavigation(w.uri);c("PageNavigationStageLogger").setNote("quickling_version");c("PageNavigationStageLogger").updateCookie();c("QuicklingRefreshOverheadUtil").onQuicklingRefreshStart();c("goOrReplace")(window.location,new(c("URI"))(w.uri).removeQueryData(x),true);c("RoyalBluebar").stopTransitionAnimation();return false};s.prototype.getSanitizedParameters=function(){"use strict";return["quickling"]};s.prototype._getAsyncRequestType=function(){"use strict";if(c("QuicklingFetchStreamConfig").experimentName!==c("RoyalBluebarTransitions").OFF)return"useFetchWithIframeFallback";return"useIframeTransport"};function t(){n++;return n>=l}function u(w){__p&&__p();c("AjaxPipeRequest").setCurrentRequest(null);if(t()){c("PageNavigationStageLogger").setNote("quickling_refresh");return false}w=c("QuicklingAugmenter").augmentURI(w);if(!q.isPageActive(w)){c("PageNavigationStageLogger").setNote("quickling_inactive");return false}c("TimerStorage").clearAll(c("TimerStorage").ANIMATION_FRAME,c("cancelAnimationFrame"));c("TimerStorage").clearAll(c("TimerStorage").IDLE_CALLBACK,c("cancelIdleCallback"));c("TimerStorage").clearAll(c("TimerStorage").IMMEDIATE,c("clearImmediate"));c("TimerStorage").clearAll(c("TimerStorage").INTERVAL,c("clearInterval"));c("TimerStorage").clearAll(c("TimerStorage").TIMEOUT,c("clearTimeout"));window.ExitTime=Date.now();c("QuicklingRefreshOverheadUtil").onQuicklingStart();c("Run").__removeHook(c("PageHooks").ONLOAD_HOOK);c("Run").__removeHook(c("PageHooks").DOMREADY_HOOK);c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"quickling"});var x="content";v(x);c("RoyalBluebar").startTransitionAnimation();var y=new s(w).setCanvasId(x).setResetHandler(c("RoyalBluebar").stopTransitionAnimation).setFinallyHandler(c("RoyalBluebar").stopTransitionAnimation).send();y.getArbiter().subscribeOnce(c("BigPipe").Events.displayed,c("RoyalBluebar").stopTransitionAnimation);var z=window.__bodyWrapper;if(z.getCodeUsage)z.clearCodeUsage();return c("PageTransitionsRegistrar").DELAY_HISTORY}function v(w){var x=function x(){var y=c("ge")(w),z=c("ContextualComponent").forNode(y);if(z)z.cleanup();c("PageHooks").runHooks("onleavehooks")};x()}c("Run").onAfterLoad(function w(){c("PageTransitionsRegistrar").registerHandler(u,1)});f.exports=b.Quickling=q}),null);
__d("BrowserPushCommands",[],(function a(b,c,d,e,f,g){var h="browser_push_ack",i="browser_push_redirect",j="browser_push_window_visible",k={ACK:h,REDIRECT:i,WINDOW_VISIBLE:j};f.exports=k}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function a(b,c,d,e,f,g){var h=function h(i){var j="(messages)(.*?)(?:(tid=))([^&]*)",k=i.match(j);if(!k)return true;var l=k.pop();c("Bootloader").loadModules(["FantaTabActions"],function(m){m.openTab(l)},"BrowserPushMessageRedirectUtil");return false};f.exports=h}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function a(b,c,d,e,f,g){__p&&__p();function h(event){__p&&__p();if(event.data.command&&event.data.command===c("BrowserPushCommands").REDIRECT){if(window.onbeforeunload()===undefined)event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:true});else{event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:false});return}var j=event.data.uri;if(/^([^.:/?#]+):/.test(j)&&!c("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(j)[1])||!c("isFacebookURI")(new(c("URI"))(j)))throw new Error("goURI: URI scheme rejected, URI: "+j);if(c("BrowserPushMessageRedirectUtil")(j))window.location.href=j}}var i={registerRedirectHandler:function j(){c("EventListener").listen(window,"message",function(event){if(event.origin==="")h(event)});if(navigator.serviceWorker&&navigator.serviceWorker.addEventListener)navigator.serviceWorker.addEventListener("message",function(event){if(navigator.serviceWorker&&navigator.serviceWorker.controller&&event.target&&event.target.controller&&event.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(event.origin))h(event)})}};f.exports=i}),null);
__d("BrowserPushMuteOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ZERO:0,FIFTEEN_MINUTES:900,THIRTY_MINUTES:1800,FORTY_FIVE_MINUTES:2700,ONE_HOUR:3600,TWO_HOURS:7200,EIGHT_HOURS:28800,ONE_DAY:86400})}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function a(b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}var i={listenForVisibility:function j(){if(!c("Visibility").isHidden())h();c("Visibility").addListener(c("Visibility").VISIBLE,h)}};f.exports=i}),null);
__d("XAsyncPushMuteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:true},push_endpoint:{type:"String",required:true},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:true},push_endpoint:{type:"String",required:true}})}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushMuteOptions","BrowserPushVisibilityChanger","Map","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h=window.Notification,i=new(c("Map"))();j.get=function(k,l){"use strict";if(i.has(l))return i.get(l);var m=new j(k,l);i.set(l,m);return m};function j(k,l){"use strict";this.$PushRegistration3=k;this.appID=l;if(!j.$PushRegistration1&&!j.$PushRegistration2){j.$PushRegistration1=false;j.$PushRegistration2=false}}j.prototype.getPushSubscription=function(){"use strict";__p&&__p();return new(c("Promise"))(function(k,l){if(j.pushPermissionIsDenied())l(new Error("No permission or not supported"));c("ServiceWorkerRegistration").getWorkerRegistration(this.$PushRegistration3).then(function(m){if(!m){k(null);return}m.pushManager.getSubscription().then(function(n){k(n)})["catch"](l)})["catch"](l)}.bind(this))};j.prototype.$PushRegistration4=function(k){"use strict";var l=k.endpoint;if("subscriptionId"in k&&!new RegExp("/"+k.subscriptionId+"$").test(l))l+="/"+k.subscriptionId;return l};j.prototype.$PushRegistration5=function(k,l,m,n){"use strict";__p&&__p();var o=this.$PushRegistration4(m),p=k.getURIBuilder().getURI(),q=new l(p),r=null;if(m.toJSON)r=m.toJSON().keys;else if(m.keys)r=m.keys;q.setData({app_id:this.appID,push_endpoint:o,subscription_keys:JSON.stringify(r)});q.setMethod("post");if(q.setHandler)q.setHandler(function(s){if(s.payload&&s.payload.session_change)n()});q.send()};j.prototype.getMutedUntilInServer=function(k){"use strict";__p&&__p();return new(c("Promise"))(function(l,m){this.getPushSubscription().then(function(n){if(n){var o=this.$PushRegistration4(n),p=c("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",o).setInt("appid",this.appID).getURI(),q=new k(p);q.listen("done",function(r){l(r.payload.muteUntilTimestampSec)});q.send()}else m("cannot check mute status for unsubscribed endpoint")}.bind(this))["catch"](m)}.bind(this))};j.prototype.muteNotifications=function(k,l){"use strict";__p&&__p();return new(c("Promise"))(function(m,n){__p&&__p();this.getPushSubscription().then(function(o){__p&&__p();if(o){var p=this.$PushRegistration4(o),q=c("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",k).setString("push_endpoint",p).setInt("appid",this.appID).getURI(),r=new l(q);r.setMethod("POST");r.listen("done",function(s){if(k!==c("BrowserPushMuteOptions").ZERO&&s.payload.muteUntilTimestampSec===0)n("operation failed in server");else m(s.payload.muteUntilTimestampSec)});r.send()}else n("no subscription found")}.bind(this))["catch"](n)}.bind(this))};j.prototype.getSubscription=function(){"use strict";return new(c("Promise"))(function(k,l){this.getPushSubscription().then(function(m){if(m)k(this.$PushRegistration4(m));else k(null)}.bind(this))["catch"](l)}.bind(this))};j.prototype.maybeRegisterPushAgain=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){this.getPushSubscription().then(function(p){if(p){this.$PushRegistration5(k,l,p,m);n(this.$PushRegistration4(p))}else n(null)}.bind(this))["catch"](function(){n(null)})}.bind(this))};j.prototype.$PushRegistration6=function(k,l,m){"use strict";__p&&__p();return new(c("Promise"))(function(n,o){__p&&__p();if(j.$PushRegistration2&&!m){o(new Error("sending disable info already"));return}j.$PushRegistration2=true;var p=k.getURIBuilder().getURI(),q=new l(p.toString());q.setData({appid:this.appID,from_browser_settings:m});q.setMethod("post");if(q.listen){q.listen("finally",n);q.listen("fail",function(){j.$PushRegistration2=false;o()})}else if(q.setErrorHandler&&q.setHandler){q.setErrorHandler(function(){j.$PushRegistration2=false;o()});q.setHandler(n)}else n();q.send()}.bind(this))};j.prototype.isPushRegistered=function(k,l,m,n){__p&&__p();var o=arguments.length<=4||arguments[4]===undefined?false:arguments[4],p=arguments.length<=5||arguments[5]===undefined?c("emptyFunction"):arguments[5],q=arguments.length<=6||arguments[6]===undefined?false:arguments[6];"use strict";c("BrowserPushMessageHandler").registerRedirectHandler();return new(c("Promise"))(function(r,s){__p&&__p();this.getPushSubscription().then(function(t){r(!!t||k&&!j.pushPermissionIsPending());if(t)if(o)self.$PushRegistration5(l,n,p,q);else c("BrowserPushVisibilityChanger").listenForVisibility();else if(!t&&k)if(j.pushPermissionIsOn())this.registerPush(l,n,p,q)["catch"](function(){});else this.$PushRegistration6(m,n,false)}.bind(this))["catch"](function(){if(k)this.$PushRegistration6(m,n,false);if(q)c("ServiceWorkerRegistration").unregisterControllingWorker();s()}.bind(this))}.bind(this))};j.prototype.$PushRegistration7=function(){"use strict";return new(c("Promise"))(function(k,l){h.requestPermission(k)})};j.prototype.registerPushAndWaitForEndpoint=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration8(k,l,m,true,null,n).then(function(q){if(typeof q!=="string"){p(new Error("registerPushImpl did not return an endpoint"));return}o(q)})["catch"](p)}.bind(this))};j.prototype.registerPushOnKaiOS=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){m.waitForKaiOS().done(function(){m.registerPush(function(p){var q=JSON.parse(p.get("push_endpoint"));this.$PushRegistration5(k,l,q,c("emptyFunction"));n(this.$PushRegistration4(q))}.bind(this))}.bind(this))}.bind(this))};j.prototype.registerPush=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],n=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";return this.registerPushWithFinishedCallBack(k,l,m,null,n)};j.prototype.registerPushWithFinishedCallBack=function(k,l,m,n,o){"use strict";return new(c("Promise"))(function(p,q){this.$PushRegistration8(k,l,m,false,n,o).then(function(r){if(typeof r!=="boolean"){q(new Error("registerPushImpl did not return a boolean"));return}p(r)})["catch"](q)}.bind(this))};j.prototype.$PushRegistration8=function(k,l,m,n,o,p){"use strict";__p&&__p();if(j.$PushRegistration1)return new(c("Promise"))(function(q,r){r(new Error("registering already"))});if(!self.PushManager)return c("Promise").reject(new Error("PushManager not found."));j.$PushRegistration1=true;return new(c("Promise"))(function(q,r){__p&&__p();var s=c("ServiceWorkerRegistration").registerWorkerIfUnregistered(this.$PushRegistration3),t=this.$PushRegistration7();c("Promise").all([s,t]).then(function(u){__p&&__p();var v=u[0];if(!j.pushPermissionIsOn()){if(p)v.unregister();throw new Error("Push permission was denied")}if(!n)q(true);v.pushManager.subscribe({userVisibleOnly:true}).then(function(w){if(n)q(this.$PushRegistration4(w));this.$PushRegistration5(k,l,w,m);if(o)o();c("BrowserPushVisibilityChanger").listenForVisibility()}.bind(this))["catch"](function(w){j.$PushRegistration1=false;if(p)v.unregister();r(w)})}.bind(this))["catch"](function(u){j.$PushRegistration1=false;r(u)})}.bind(this))};j.prototype.unregisterPushAndSWOnKaiOS=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration6(k,l,n).then(function(){m.unregisterPush();o()})["catch"](p)}.bind(this))};j.prototype.unregisterPushAndSW=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.$PushRegistration6(k,l,true).then(function(){c("ServiceWorkerRegistration").unregisterControllingWorker().done(m)})["catch"](n)}.bind(this))};j.prototype.unregisterPushOnly=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.getPushSubscription().then(function(o){if(o)o.unsubscribe().then(this.$PushRegistration6(k,l,true)).then(function(){m(true)})["catch"](n);else n()}.bind(this))["catch"](n)}.bind(this))};j.pushPermissionIsPending=function(){"use strict";return window.Notification&&window.Notification.permission==="default"};j.pushPermissionIsOn=function(){"use strict";return window.Notification&&window.Notification.permission==="granted"};j.pushPermissionIsDenied=function(){"use strict";return window.Notification&&window.Notification.permission==="denied"};f.exports=j}),null);
__d("XBrowserWebNotificationsEnableController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/web_notifications/enable/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/push/register/service_worker/",{})}),null);
__d("BrowserPushDirectPromptInstaller",["Promise","Arbiter","AsyncRequest","BanzaiLogger","BrowserPushSessionChange.react","Bootloader","CrossWindowEventEmitter","DOM","NotificationPermissionNotice.react","NotificationPermissionRequest.react","NotificationPermissionRequestWithPreview.react","PushRegistration","QE2Logger","React","ReactDOM","XBrowserPushDisabledController","XBrowserPushXOutController","XBrowserWebNotificationsEnableController","XPushRegisterServiceWorkerController","emptyFunction","incognito"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=window.Notification,i=new(c("CrossWindowEventEmitter"))("BrowserPushInstall"),j={},k,l=false;function m(event,u){var v=babelHelpers["extends"]({event:event,appid:u,surface:"prompt"},j);c("BanzaiLogger").log("BrowserPushLoggerConfig",v)}function n(){if(j.xout_count===0&&k)c("QE2Logger").logExposureForUser(k)}function o(u){var v=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();m("xout",u)}function p(u){var v=c("XBrowserWebNotificationsEnableController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();c("Arbiter").inform("WebNotifications/enabled");i.emitRemote("complete");c("Bootloader").loadModules(["WebNotificationsPresenter"],function(w){w.init(u.toString())},"BrowserPushDirectPromptInstaller")}function q(u){if(!l){l=true;c("ReactDOM").unmountComponentAtNode(u)}}function r(u,v){var w=c("DOM").insertBefore(u,c("DOM").create("span")),x=w.pop();c("ReactDOM").render(c("React").createElement(c("BrowserPushSessionChange.react"),{onHide:function y(){c("ReactDOM").unmountComponentAtNode(u)},push:v}),x)}function s(u,v,w,x,y){__p&&__p();var z=c("PushRegistration").get(u,v);m("turn_on",v);return z.registerPushWithFinishedCallBack(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),function(){r(w,z)},function(){c("Arbiter").inform("BrowserPushInstall/installed")},y).then(function(){q(w);m("install",v)})["catch"](function(A){q(w);if(c("PushRegistration").pushPermissionIsDenied()){c("ReactDOM").render(c("React").createElement(c("NotificationPermissionNotice.react"),{onHide:function B(){c("ReactDOM").unmountComponentAtNode(w)},browserName:x}),w);m("deny",v)}else m("install_ignore",v);o(v)})}var t={setLogExtraData:function u(v){j=v},setQEUniverseName:function u(v){k=v},requestThenInstallWebNotifications:function u(v,w,x,y,z,A){__p&&__p();n();this._showRequestPermissions({appID:v,baseElement:w,browserName:x,hasEnoughFriendsToRequestPush:y,sampleNotificationAvatarURI:A,sampleNotificationMessage:z,showSpinnerWhileRequesting:true,isWebNotifications:true,onAcceptCallback:this._getOnWebNotificationsDialogAccept({appID:v,callback:function B(C){if(C==="granted"){m("install",v);i.emitRemote("complete");q(w);p(v)}else{m("deny",v);o(v)}}})})},requestThenInstallPush:function u(v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){__p&&__p();var K=c("PushRegistration").get(v,w),L=K.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,K)},C);c("Promise").all([L,c("incognito")()]).then(function(M){var N=M[0],O=M[1];if(N||O)return;n();if(c("PushRegistration").pushPermissionIsPending())this._showRequestPermissions({appID:w,baseElement:x,hasEnoughFriendsToRequestPush:D,isWebNotifications:false,onAcceptCallback:this._getOnPushNotificationsAccept({appID:w,baseElement:x,browserName:B,path:v,workerIsForPushOnly:C}),sampleNotificationAvatarURI:F,sampleNotificationMessage:E,showSpinnerWhileRequesting:G,wasXOuted:z,showFixedTopDialog:H,showTurnOffMessage:I,showModalRedesign:J});else if(!z&&c("PushRegistration").pushPermissionIsOn())s(v,w,x,B,C)}.bind(this))["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},installPush:function u(v,w,x,y,z,A,B,C,D){__p&&__p();var E=c("PushRegistration").get(v,w),F=E.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,E)},C);c("Promise").all([F,c("incognito")()]).then(function(G){__p&&__p();var H=G[0],I=G[1];if(H||I)return;n();if(c("PushRegistration").pushPermissionIsPending()){if(!D||z)return;c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequest.react"),{onHide:function J(){q(x)}}),x);s(v,w,x,B,C)}else if(!z)s(v,w,x,B,C)})["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},_showRequestPermissions:function u(v){__p&&__p();var w=v.appID,x=v.baseElement,y=v.hasEnoughFriendsToRequestPush,z=v.isWebNotifications,A=v.onAcceptCallback,B=v.sampleNotificationAvatarURI,C=v.sampleNotificationMessage,D=v.showSpinnerWhileRequesting,E=v.wasXOuted,F=v.showFixedTopDialog,G=v.showTurnOffMessage,H=v.showModalRedesign;i.once("complete",function(I){q(x);m("twostep_suppressed",w)});if(!y||E)return;m("twostep_request",w);c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequestWithPreview.react"),{isWebNotifications:z,notificationImage:B||undefined,notificationMessage:C||undefined,onAccept:A,onClose:function I(){m("twostep_notnow",w);i.emitRemote("complete");o(w);q(x)},showSpinnerWhileRequesting:D,showFixedTopDialog:F,showTurnOffMessage:G,showModalRedesign:H}),x)},_getOnPushNotificationsAccept:function u(v){var w=v.appID,x=v.baseElement,y=v.browserName,z=v.callback,A=v.path,B=v.workerIsForPushOnly;return function(){m("twostep_accept",w);i.emitRemote("complete");s(A,w,x,y,B).then(z,z).done()}},_getOnWebNotificationsDialogAccept:function u(v){var w=v.appID,x=v.callback;return function(){m("twostep_accept",w);this._requestWebNotificationsFromBrowser(w,x)}.bind(this)},_requestWebNotificationsFromBrowser:function u(v,w){m("turn_on",v);h.requestPermission(w)}};f.exports=t}),null);
__d("XBrowserPushMuteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/mute/",{appid:{type:"Int",required:true},push_endpoint:{type:"String",required:true},surface:{type:"Enum",required:true,enumType:1},mute_for:{type:"Enum",enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d("BrowserPushMuteOptionsLink",["fbt","AsyncRequest","PushRegistration","React","ReactDOM","XBrowserPushMuteController"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l,m){var n=c("PushRegistration").get(l,m);n.getPushSubscription().done(function(o){if(o){var p=c("XBrowserPushMuteController").getURIBuilder().setEnum("surface","jewel").setString("push_endpoint",o.endpoint).setInt("appid",m).getURI();new(c("AsyncRequest"))().setURI(p).setRelativeTo(k).send()}})}var j={showMuteOptions:function k(l,m,n){if(!c("PushRegistration").pushPermissionIsOn())return;c("ReactDOM").render(c("React").createElement("a",{href:"#",onClick:function o(){i(l,m,n)}},h._("\uc54c\ub9bc \ud574\uc81c")),l)}};f.exports=j}),null);
__d("ViewasChromeBar",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","Focus","ModalMask","PageTransitionsRegistrar","Parent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="ViewasChromeBar/initialized",k=null,l=false;function m(p){c("Arbiter").subscribe(j,p)}function n(p){c("CSS").addClass(p,"_7g7");var q=c("DOM").find(p,"._7g0");c("Focus").set(c("DOM").find(q,".textInput"))}var o={initChromeBar:function p(q){if(l)return;k=q;l=true;c("Arbiter").inform(j,null,c("Arbiter").BEHAVIOR_STATE)},update:function p(q,r){m(function(){c("DOM").setContent(k,q);if(r)new(c("AsyncRequest"))("/ajax/privacy/glasgow/viewas_bar_flyout_open").send()})},registerSpecificModeOnClick:function p(q){c("Event").listen(q,"click",function(){var r=c("Parent").bySelector(q,"._7f-");if(r instanceof HTMLElement)n(r)})},registerFlyoutModalMask:function p(){c("ModalMask").show();c("PageTransitionsRegistrar").registerHandler(c("ModalMask").hide,10)}};f.exports=o}),null);
__d("ResponsiveSidebar",["AjaxPipeRequest","Event","Run","getOrCreateDOMID","setImmediate","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={init:function i(j){__p&&__p();var k,l=this;if(this.shouldLoadContent(j))c("setImmediate")(function(){this.loadContentForConfig(j)}.bind(this));else(function(){__p&&__p();var m=true,n=c("Event").listen(window,"resize",c("throttle")(function(){if(m&&this.shouldLoadContent(j)){m=false;n.remove();this.loadContentForConfig(j)}}.bind(l),50));c("Run").onCleanupOrLeave(j.container,function(){if(m){m=false;n.remove()}})})()},shouldLoadContent:function i(j){return j.triggerWidth<window.innerWidth},loadContentForConfig:function i(j){var k="/ajax/pagelet/generic.php/SidebarPagelet";new(c("AjaxPipeRequest"))().setCanvasId(c("getOrCreateDOMID")(j.container)).setURI(k).send()}};f.exports=h}),null);