if (self.CavalryLogger) { CavalryLogger.start_js(["xfYZ7"]); }

__d("ArtilleryLoggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRELIMINARY_UPLOAD:"preliminary",FULL_UPLOAD:"full_upload"})}),null);
__d("ArtillerySWDataCollector",["Promise","ArtillerySWConfig","ClientServiceWorkerMessage","ServiceWorkerRegistration","pageLoadedViaSWCache","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=5e3,i=null;function j(l){__p&&__p();var m=false,n=new(c("ClientServiceWorkerMessage"))("asw-pageTraceDataRequest",{fullSWEFLog:c("ArtillerySWConfig").shouldLogEFRsrcs},function(o){__p&&__p();var p=o.data,q=p.command,r=p.data;if(m)return;m=true;if(q==="trace"&&r.workerPerf){var s=void 0;if(r.workerPerf.annotations.stringProps&&r.workerPerf.annotations.stringProps.fullCacheHitData){s=r.workerPerf.annotations.stringProps.fullCacheHitData;delete r.workerPerf.annotations.stringProps.fullCacheHitData}l({workerPerf:r.workerPerf,fullCacheHitData:s});return}});n.sendViaController()}var k={collect:function l(){__p&&__p();if(i!==null)return i;i=new(c("Promise"))(function(m,n){if(!c("pageLoadedViaSWCache")())c("ServiceWorkerRegistration").isAWorkerActivated().then(function(o){if(o)c("setTimeoutAcrossTransitions")(function(){m()},h);else{m();return}})["catch"](m);j(m)});return i}};f.exports=k}),null);
__d("BrowserProfiler",[],(function a(b,c,d,e,f,g){var h={isEnabled:function i(){return this.isAvailable()},isAvailable:function i(){return!!window.facebookLowLevelProfiler},getProfile:function i(j){window.facebookLowLevelProfiler.getData(function(k){j(k)})},notifyTracePosted:function i(j,k){window.facebookLowLevelProfiler.notifyTracePosted(j,k)}};f.exports=h}),null);
__d("ReactSpeedHelper",["LogBuffer","ReactDOM"],(function a(b,c,d,e,f,g){var h={enableRenderMeasurements:function i(){if(!c("ReactDOM").enableRenderMeasurements)return;c("ReactDOM").enableRenderMeasurements()},getMetrics:function i(j,k){return c("LogBuffer").read("react_speed").filter(function(l){return(j==null||l.begin>=j)&&(k==null||l.end<=k)})}};f.exports=h}),null);
__d("sourceMetaToString",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k;if(i.name){k=i.name;if(i.module)k=i.module+"."+k}else if(i.module)k=i.module+".<anonymous>";if(j&&i.line){k=(k?k:"<anonymous>")+":"+i.line;if(i.column)k+=":"+i.column}return k}f.exports=h}),null);
__d("TimeSliceHelper",["LogBuffer","Map","ProfilingCounters","ProfilingCountersStore","ReactSpeedHelper","sourceMetaToString"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(o,p){return Math.round((o-p)*1e3)},i={counterFunction:function o(p){return c("ProfilingCountersStore").getNestedTotals(p)}};function j(o,p,q,r){__p&&__p();var s=p.counterFunction,t=void 0;if(q.guard){var u=c("sourceMetaToString")(q),v=q.guard.toString();t=u?v+" at "+u:v}else t=q.desc;var w=r!=null?s(r):null,x={begin:q.begin,end:q.end,name:t,id:q.id,counters:w,isEdgeContinuation:q.isEdgeContinuation};if(q.parentID&&q.parentID!==q.id)x.parentID=q.parentID;o.push(x)}function k(o,p,q){var r=p.counterFunction,s={begin:q.begin,end:q.end,name:"JS["+q.count+"]",counters:r(c("ProfilingCounters").wrapInSingleContext(q.contextsToBeMerged))};o.push(s)}function l(o,p){var q=p.indirectParentID,r=p.id,s=p.isEdgeContinuation;if(q!=null){var t=o.get(q),u=void 0;s=s;if(t!=null)u={indirectParentID:t.indirectParentID,isEdgeContinuation:s&&t.isEdgeContinuation};else u={indirectParentID:q,isEdgeContinuation:s};o.set(r,u)}}function m(o,p){__p&&__p();var q=p.indirectParentID,r=p.isEdgeContinuation,s=p.id;if(q!=null&&q!==s){var t=o.get(q);if(t!=null){q=t.indirectParentID;r=t.isEdgeContinuation&&r}return babelHelpers["extends"]({},p,{parentID:q,isEdgeContinuation:r})}return p}var n={formatMetricsForTransport:function o(p){__p&&__p();var q=[],r=[],s=[],t=new(c("Map"))(),u=new(c("Map"))(),v=0,w=function w(y,z,A){var B=void 0;if(z.has(y))B=z.get(y);else{B=A.length;z.set(y,B);A.push(y)}return B},x=[];if(p!=null)p.forEach(function(y){__p&&__p();var z=y.begin,A=y.end,B=y.name,C=y.id,D=y.counters,E=y.parentID,F=y.isEdgeContinuation,G=h(z,v),H=h(A,z);v=A;var I=w(B,t,q),J=[G,H,I],K=D||{},L=Object.keys(K).filter(function(P){return K[P]!==0}).sort(),M=void 0;if(L.length>0){var N=L.join(),O=w(N,u,s);M=L.map(function(B){return K[B]});M.unshift(O)}else M=[];if(C)J.push(C);if(E){J.push(E);J.push(F)}x.push(J);r.push(M)});return{version:"compact",items:x,names:q,counters:r,counterSchemas:s}},getMetrics:function o(p,q,r,s,t,u,v){var w=function w(x,y){var z=y.end-y.begin<r,A=x&&y.begin-x.end<s&&z;return{shouldMergeIntoCurrentMerge:A,shouldFlushCurrentThenNewMerge:z}};return this.getCustomMergeMetrics(p,q,w,t,u,v)},getCustomMergeMetrics:function o(p,q,r,s,t,u){__p&&__p();var v;if(u==null)u=i;else u=babelHelpers["extends"]({},i,u);var w=function w(K){var L=K.id;return L&&t[L]?t[L]:null},x=[],y=j.bind(undefined,x,u),z=k.bind(undefined,x,u),A=c("LogBuffer").read("time_slice_heartbeat");if(s.length>0)(function(){var K=Math.max.apply(null,s.map(function(L){return L.id}));A.forEach(function(L){return L.id+=K})})();var B=c("ReactSpeedHelper").getMetrics().map(function(K){return babelHelpers["extends"]({},K,{desc:"React["+K.name+"]"})}),C=s.concat(A,B),D=void 0,E=new(c("Map"))(),F=l.bind(undefined,E),G=m.bind(undefined,E),H=function H(){if(D)if(D.count>1)z(D);else y(G(D.first),w(D.first));D=null},I=C.sort(function(K,L){if(K.begin!==L.begin)return K.begin-L.begin;else if(K.end!==L.end)return K.end-L.end;else return 0}).filter(function(K){return(p==null||K.end>=p)&&(q==null||K.begin<=q)});if(I.length>0&&!I[0].representsExecution&&I[0].begin<p){var J=I[0];I[0]=babelHelpers["extends"]({},J,{begin:p})}I.forEach(function(K){__p&&__p();var L=r(D,K),M=L.shouldMergeIntoCurrentMerge,N=L.shouldFlushCurrentThenNewMerge,O=w(K);if(D&&M){D.end=K.end;D.count++;if(O)D.contextsToBeMerged.push(O);if(D.count===2)F(D.first);F(K)}else if(N){H();var P=[];if(O)P.push(O);D={begin:K.begin,end:K.end,count:1,first:K,contextsToBeMerged:P}}else if(!N){H();y(G(K),O)}});H();return x}};f.exports=n}),null);
__d("getFirstPaint",["performance"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){var i=void 0;if(c("performance")&&c("performance").timing)if(window.chrome&&window.chrome.loadTimes){var j=window.chrome.loadTimes();i=parseInt(j.firstPaintTime*1e3,10)}else if(typeof c("performance").timing.msFirstPaint==="number")i=c("performance").timing.msFirstPaint;return i||null}f.exports=h}),null);
__d("ArtilleryLogger",["Arbiter","ArtilleryExperiments","ArtilleryLoggerType","ArtilleryOnUntilOffLogging","ArtillerySWDataCollector","AsyncProfiler","Banzai","BigPipe","BigPipeExperiments","BrowserProfiler","ImageTimingHelper","Map","NavigationMetrics","NavigationTimingHelper","PageletEventsHelper","ProfilingCountersStore","ResourceTimingBootloaderHelper","Set","SnappyCompressUtil","TimeSliceHelper","TimeSliceInteraction","forEachObject","pageLoadedViaSWCache","performance","performanceAbsoluteNow","getFirstPaint"],(function aa(ba,a,ca,da,b,ea){__p&&__p();var c=a("BigPipeExperiments").link_images_to_pagelets,d=a("ArtilleryExperiments").artillery_static_resources_pagelet_attribution,e=a("ArtilleryExperiments").artillery_timeslice_compressed_data,f=a("ArtilleryExperiments").artillery_miny_client_payload,g=a("ArtilleryExperiments").artillery_merge_max_distance_sec,h=a("ArtilleryExperiments").artillery_merge_max_duration_sec,i="generation_time",j="__user_annotations",fa="serviceworker_trace",k="serviceworker",l="first_paint",ga="browser_profile",m="sampler_profile",n="user_timing_profile",o="artillery_logger_data",p="artillery_browser_perf_data",q=new(a("Map"))(),r=new(a("Map"))(),s=false,t=new(a("Map"))(),u=new(a("Map"))();function v(){return a("performance")&&a("performance").timing&&a("performance").timing.navigationStart}function w(J){if(!q.has(J))q.set(J,{})}function x(J){J.subscribe(a("BigPipe").Events.tti,function(K,L){var M=L.ts,N=L.lid,O=L.metrics;w(N);var P=q.get(N);P.t_bigpipe_tti=M;a("forEachObject")(O,function(Q,R){P[R]=Q})})}function y(J){J.subscribe(a("BigPipe").Events.displayed,function(K,L){var M=L.ts,N=L.lid;w(N);q.get(N).t_marker_all_pagelets_displayed=M;a("ArtillerySWDataCollector").collect().done(function(O){if(O)u.set(N,O)})})}function z(J){J.subscribe(a("BigPipe").Events.loaded,function(K,L){var M=L.ts,N=L.lid;w(N);q.get(N).t_marker_bigpipe_e2e=M})}function A(J,K){__p&&__p();if(!J)return;if(K.profile){var L=a("SnappyCompressUtil").compressStringToSnappy(K.profile);if(L!==null){K.profile=L;K.snappy=true}}var M={clientData:J,browserPerfData:K,traceType:"pageload"};a("Banzai").post(p,M,a("Banzai").VITAL);a("BrowserProfiler").notifyTracePosted(M.clientData.traceID,M.traceType)}function B(J,K,L){var M,N=L;if(a("BrowserProfiler").isEnabled()&&r.has(N))(function(){var O=r.get(N);window.requestIdleCallback(function(){a("BrowserProfiler").getProfile(function(P){A(O,P)})})})();C(J,K,L)}function C(J,K,L){__p&&__p();var M=a("performanceAbsoluteNow")(),N=L;if(!r.has(N)||!q.has(N))return;var O=q.get(N);O.uploadType=a("ArtilleryLoggerType").FULL_UPLOAD;ha(O);F();var P=a("performanceAbsoluteNow")(),Q=null;if(J==="normal"){Q=0;O.navigation_timing=a("NavigationTimingHelper").getNavTimings()}else if(J==="quickling"&&a("performance").getEntriesByName){var R=a("performance").getEntriesByName(K);O.navigation_timing=a("NavigationTimingHelper").getAsyncRequestTimings(K);if(R.length)Q=R[0].startTime}var S=a("ArtilleryOnUntilOffLogging").finish(),T=S.sampleRecorder,ka=S.profilingCountersData,U=S.userTimingProfilerData,la=S.timeSliceData;if(Q!=null&&v()){var V=Q+a("performance").timing.navigationStart;O.resource_timing_bootloader=a("ResourceTimingBootloaderHelper").getMetrics(V,c,N,null,true).data;var W=a("TimeSliceHelper").getMetrics(V,O.t_onload,h,g,la,a("ProfilingCountersStore").toMap(ka));if(e)O.time_slice=a("TimeSliceHelper").formatMetricsForTransport(W);else O.time_slice=W;O.extra_points=a("TimeSliceInteraction").getPageLoadPoints(V,P);O.interaction_ids=a("TimeSliceInteraction").getInteractionIDsBetween(V,P)}O.pagelet_events=a("PageletEventsHelper").getMetrics(N);if(!d&&O.pagelet_events){if(O.pagelet_events.display_resources)delete O.pagelet_events.display_resources;if(O.pagelet_events.all_resources)delete O.pagelet_events.all_resources}ja(N);ia(O);var X=babelHelpers["extends"]({},O,r.get(N).data,{policies:Array.from(r.get(N).policies)}),Y=u.get(N);if(J==="normal"&&Y!=null)X[k]=Y.workerPerf;if(J==="normal")X[l]=a("getFirstPaint")();if(t.size){X[j]={};t.forEach(function($,ma){X[j][ma]=$})}r["delete"](N);q["delete"](N);if(U&&v())X[n]=U;X[i]=a("performanceAbsoluteNow")()-M;var Z=T!=null?a("AsyncProfiler").stopRecording(T):null;if(Z!=null)Z.then(function($){return D(X,$)},function($){throw $});else D(X)}function D(J,K){if(K!=null)J[m]=K;var L=a("performanceAbsoluteNow")();E(J);J[i]+=a("performanceAbsoluteNow")()-L;a("Banzai").post(o,J,a("Banzai").VITAL)}function E(J){__p&&__p();var K={};if(f){var L=["resource_timing_bootloader","pagelet_events"];L.forEach(function(N){var O=J[N];if(O==null)return;var P=JSON.stringify(O),Q=a("SnappyCompressUtil").compressStringToSnappy(P);if(Q!==null){K[N]=Q;delete J[N]}})}var M=[n];M.forEach(function(N){var O=J[N];if(O==null)return;var P=a("SnappyCompressUtil").compressUint8ArrayToSnappy(J[N]);if(P!==null){K[N]=P;delete J[N]}});if(Array.from(Object.keys(K)).length>0)J.miny=K}function F(){__p&&__p();var J=navigator&&navigator.hardwareConcurrency;I.recordUserAnnotation("num_cores",J!=null?J.toString():"unknown");if(navigator&&navigator.deviceMemory&&typeof navigator.deviceMemory==="number")I.recordUserAnnotation("ram_gb",navigator.deviceMemory.toString());if(navigator&&navigator.connection){if(typeof navigator.connection.downlink==="number")I.recordUserAnnotation("browser_downlink_megabits",navigator.connection.downlink.toString());if(typeof navigator.connection.rtt==="number")I.recordUserAnnotation("browser_rtt_ms",navigator.connection.rtt.toString());if(typeof navigator.connection.effectiveType==="string")I.recordUserAnnotation("browser_effective_connection_type",navigator.connection.effectiveType)}I.recordUserAnnotation("client_pixel_ratio_10x",((window.devicePixelRatio||1)*10).toString());I.recordUserAnnotation("is_sw_page_loaded_via_cache",a("pageLoadedViaSWCache")()?"1":"0");if(a("performance")&&a("performance").navigation)I.recordUserAnnotation("nav_type",G(a("performance").navigation.type))}function G(J){switch(J){case 0:return"TYPE_NAVIGATE";case 1:return"TYPE_RELOAD";case 2:return"TYPE_BACK_FORWARD";case 255:return"TYPE_RESERVED";default:return"unknown navigation type"}}function H(){a("NavigationMetrics").addListener(a("NavigationMetrics").Events.NAVIGATION_DONE,function(J,K){var L=K.pageType,M=K.pageURI,N=K.serverLID;B(L,M,N)})}function ha(J){var K;if(window.CavalryLogger)(function(){var L=window.CavalryLogger.getInstance(),M=["t_domcontent","t_pagelet_cssload_early_resources","t_tti","t_onload"];M.forEach(function(N){if(Object.prototype.hasOwnProperty.call(L.values,N))J[N]=L.values[N]})})()}function ia(J){if(window.CavalryLogger){var K=window.CavalryLogger.getInstance();a("ResourceTimingBootloaderHelper").mergeBootloaderMetricsAndResourceTimings(J.resource_timing_bootloader,K.bootloader_metrics,true)}}function ja(J){var K=q.get(J);if(v()){var L=a("performance").timing.navigationStart,M=K.t_bigpipe_tti,N=K.t_marker_bigpipe_e2e,O=a("ImageTimingHelper").getImageTimings(J),P=a("ResourceTimingBootloaderHelper").getLastTTIAndE2EImageResponseEnds(M,N,O),Q=P.TTI,R=P.E2E;if(!isNaN(Q)&&Q!==L)K.t_tti_with_images=Q;if(!isNaN(R)&&R!==L)K.t_marker_bigpipe_e2e_with_images=R}}var I={enableProfilingWithClientData:function J(K,L,M,N){__p&&__p();w(K);r.set(K,{traceID:L,data:M,policies:N});if(s)return;s=true;a("PageletEventsHelper").init();a("Arbiter").subscribe(a("BigPipe").Events.init,function(O,P){var Q=P.arbiter;if(Q){x(Q);y(Q);z(Q)}});H()},recordUserAnnotation:function J(K,L){var M=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(!M&&t.has(K))return false;t.set(K,L);return true}};b.exports=I}),null);
__d("ServiceWorkerExperimentPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ServiceWorkerExperimentPerfLoggerConfig",this.$ServiceWorkerExperimentPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ServiceWorkerExperimentPerfLoggerConfig",this.$ServiceWorkerExperimentPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ServiceWorkerExperimentPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1=babelHelpers["extends"]({},this.$ServiceWorkerExperimentPerfTypedLogger1,j);return this};h.prototype.setAppCache=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.app_cache=j;return this};h.prototype.setBodyVisible=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.body_visible=j;return this};h.prototype.setClientRev=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.client_rev=j;return this};h.prototype.setCsstart=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.csstart=j;return this};h.prototype.setDisplayDone=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.display_done=j;return this};h.prototype.setDns=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.dns=j;return this};h.prototype.setDomComplete=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.dom_complete=j;return this};h.prototype.setDomContentLoad=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.dom_content_load=j;return this};h.prototype.setDomInteractiveLoad=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.dom_interactive_load=j;return this};h.prototype.setDomSetup=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.dom_setup=j;return this};h.prototype.setE2e=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.e2e=j;return this};h.prototype.setEfRsrcSuccessRate=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.ef_rsrc_success_rate=j;return this};h.prototype.setExperimentType=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.experiment_type=j;return this};h.prototype.setFetchStartMs=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.fetch_start_ms=j;return this};h.prototype.setFirstResponse=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.first_response=j;return this};h.prototype.setHardwareConcurrency=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.hardware_concurrency=j;return this};h.prototype.setHasSwCacheStorage=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.has_sw_cache_storage=j;return this};h.prototype.setHomePageRouteLoadCount=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.home_page_route_load_count=j;return this};h.prototype.setIsRecentLogin=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.is_recent_login=j;return this};h.prototype.setIsSecondLoad=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.is_second_load=j;return this};h.prototype.setIsSpinOverride=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.is_spin_override=j;return this};h.prototype.setIsSwFnrLoad=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.is_sw_fnr_load=j;return this};h.prototype.setLastResponse=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.last_response=j;return this};h.prototype.setLoadedViaSwCache=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.loaded_via_sw_cache=j;return this};h.prototype.setNavStartMs=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.nav_start_ms=j;return this};h.prototype.setPackageCohort=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.package_cohort=j;return this};h.prototype.setPageClient=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.page_client=j;return this};h.prototype.setPath=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.path=j;return this};h.prototype.setRbbDisplayDone=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.rbb_display_done=j;return this};h.prototype.setRedirect=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.redirect=j;return this};h.prototype.setRequest=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.request=j;return this};h.prototype.setRespond=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.respond=j;return this};h.prototype.setServerRev=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.server_rev=j;return this};h.prototype.setServerRoute=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.server_route=j;return this};h.prototype.setSubstream0=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.substream_0=j;return this};h.prototype.setSubstream1=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.substream_1=j;return this};h.prototype.setSwCacheAge=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.sw_cache_age=j;return this};h.prototype.setSwControlledWindow=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.sw_controlled_window=j;return this};h.prototype.setSwPageLoadCount=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.sw_page_load_count=j;return this};h.prototype.setSwStarted=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.sw_started=j;return this};h.prototype.setTcp=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.tcp=j;return this};h.prototype.setTti=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.tti=j;return this};h.prototype.setUnload=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.unload=j;return this};h.prototype.setVC=function(j){this.$ServiceWorkerExperimentPerfTypedLogger1.vc=j;return this};var i={app_cache:true,body_visible:true,client_rev:true,csstart:true,display_done:true,dns:true,dom_complete:true,dom_content_load:true,dom_interactive_load:true,dom_setup:true,e2e:true,ef_rsrc_success_rate:true,experiment_type:true,fetch_start_ms:true,first_response:true,hardware_concurrency:true,has_sw_cache_storage:true,home_page_route_load_count:true,is_recent_login:true,is_second_load:true,is_spin_override:true,is_sw_fnr_load:true,last_response:true,loaded_via_sw_cache:true,nav_start_ms:true,package_cohort:true,page_client:true,path:true,rbb_display_done:true,redirect:true,request:true,respond:true,server_rev:true,server_route:true,substream_0:true,substream_1:true,sw_cache_age:true,sw_controlled_window:true,sw_page_load_count:true,sw_started:true,tcp:true,tti:true,unload:true,vc:true};f.exports=h}),null);
__d("ServiceWorkerURLCleaner",[],(function a(b,c,d,e,f,g){__p&&__p();var h=/sw_fnr_id=\d+&?/,i=/fnr_t=\d+&?/,j=false,k=false,l={removeRedirectID:function m(){__p&&__p();if(j)return k;j=true;if(location.search&&h.test(location.search)){k=true;if(history!==undefined&&typeof history.replaceState==="function"){var n=location.toString().replace(h,"").replace(i,"").replace(/\?$/,"");history.replaceState({},document.title,n)}}return k}};f.exports=l}),null);
__d("ServiceWorkerProfilerTypes",["Map","TimingAnnotations"],(function a(b,c,d,e,f,g){var h={START:"start",PARSED:"parsed",INITIALIZED:"init",FIRST_EVENT:"firstEvent",ACTIVATE_START:"activate_start",RESOURCE_CACHE_ACTIVATE_START:"resource_cache_activate_start",RESOURCE_CACHE_ACTIVATE_END:"resource_cache_activate_end",ACTIVATE_END:"activate_end"},i={FETCH_START:"start",ROUTE_CONFIG_CACHE_LOOKUP_START:"routeLookupStart",ROUTE_CONFIG_CACHE_LOOKUP_END:"routeLookupEnd",BEGIN_RESPONSE:"beginResponse",CACHE_FLUSH:"cacheFlush",RESOURCE_CACHE_FETCH_START:"resourceCacheFetchStart",RESOURCE_CACHE_FETCH_END:"resourceCacheFetchEnd",NETWORK_REQUEST_START:"requestStart",NETWORK_REQUEST_END:"requestEnd",NETWORK_RESPONSE_START:"responseStart",NETWORK_RESPONSE_END:"responseEnd",FETCH_END:"end"};f.exports={WorkerTiming:h,FetchTiming:i}}),null);
__d("ServiceWorkerWindowPerfLogger",["regeneratorRuntime","Promise","Arbiter","ArtillerySWDataCollector","BanzaiODS","BanzaiScuba","BigPipe","ClientChromeExperimentsData","NavigationMetrics","PageletEventConstsJS","ServiceWorkerExperimentPerfTypedLogger","ServiceWorkerProfilerTypes","ServiceWorkerURLCleaner","SiteData","SubscriptionsHandler","ServiceWorkerRegistration","UserAgentData","pageLoadedViaSWCache","performance"],(function aa(a,b,ba,ca,c,da){__p&&__p();var d,e="reactbluebar_perf",f="sw_ef_cache_hits",g="navigationStart",h="fetchStart",i="domainLookupStart",j="connectStart",k="connectEnd",l="responseStart",m="responseEnd",n="domLoading",o="domInteractive",p="domContentLoadedEventEnd",ea="domComplete",fa="unloadEventStart",ga="unloadEventEnd",ha=b("ServiceWorkerProfilerTypes").WorkerTiming,q=b("ServiceWorkerProfilerTypes").FetchTiming,r=(d={},d[b("PageletEventConstsJS").ARRIVE_START]={},d[b("PageletEventConstsJS").DISPLAY_END]={},d),s=function s(t){__p&&__p();var u,v=this,w,x,y,z,A;return b("regeneratorRuntime").async(function B(C){__p&&__p();while(1)switch(C.prev=C.next){case 0:w=new(b("BanzaiScuba"))(e,null,{addBrowserFields:true,addGeoFields:true,addPredictedGeographyFields:true,addRequestFields:true});x=new(b("ServiceWorkerExperimentPerfTypedLogger"))();x.setExperimentType(t.experimentName);x.setIsSecondLoad(t.isSecondLoad);x.setIsSpinOverride(t.isSpinOverride);x.setLoadedViaSwCache(b("pageLoadedViaSWCache")());x.setPageClient(t.page);x.setClientRev(b("SiteData").client_revision);x.setServerRev(b("SiteData").server_revision);x.setPackageCohort(b("SiteData").pkg_cohort);x.setIsRecentLogin(t.isRecentLogin);w.addNormal("path",a.location.href);x.setPath(a.location.href);y=b("ServiceWorkerURLCleaner").removeRedirectID();x.setIsSwFnrLoad(y);w.addInteger("sw_fnr_load",y?1:0);w.addNormal("experiment_type",t.experimentName);w.addNormal("page_client",t.page);w.addNormal("response_type",b("pageLoadedViaSWCache")()?"sw":"server");w.addNormal("second_load",t.isSecondLoad);w.addNormal("spin_override",t.isSpinOverride);w.addNormal("client_revision",b("SiteData").client_revision);w.addNormal("server_revision",b("SiteData").server_revision);w.addNormal("package_cohort",b("SiteData").pkg_cohort);w.addNormal("recent_login",t.isRecentLogin?"true":"false");if(t.serverRoute){w.addNormal("serverRoute",t.serverRoute);x.setServerRoute(t.serverRoute)}z=navigator.serviceWorker&&navigator.serviceWorker.controller;x.setSwControlledWindow(Boolean(z));w.addNormal("sw_controlled_window",z?1:0);A={};if(b("ClientChromeExperimentsData").shouldShowClientChrome)A.client_chrome=1;w.addTagset("gk_on",A);if(navigator.hardwareConcurrency){w.addInteger("hardwareConcurrency",navigator.hardwareConcurrency);x.setHardwareConcurrency(navigator.hardwareConcurrency)}if(!b("performance").timing){C.next=36;break}C.next=36;return b("regeneratorRuntime").awrap(function D(){__p&&__p();var E,F,G,H,I,J,K,L;return b("regeneratorRuntime").async(function M(N){__p&&__p();while(1)switch(N.prev=N.next){case 0:F=b("performance").timing;G=F.navigationStart;H=F.fetchStart;x.setFetchStartMs(H);x.setNavStartMs(G);w.addInteger("tti",t.tti-H);w.addInteger("e2e",t.e2e-H);w.addInteger("display_done",t.displayDone-H);if(t.bodyVisible)w.addInteger("body_visible",t.bodyVisible-H);if(typeof a._cstart==="number")w.addInteger("cstart",a._cstart-H);N.next=12;return b("regeneratorRuntime").awrap(b("Promise").all([b("ArtillerySWDataCollector").collect(),z?b("ServiceWorkerRegistration").getWorkerRegistration():b("Promise").resolve(null)]));case 12:I=N.sent;J=I[0];K=I[1];if(J)(function(){__p&&__p();var O=J.workerPerf,P=O.workerTimings,Q=O.fetchTimings,R={await_route_config_cache:[q.ROUTE_CONFIG_CACHE_LOOKUP_START,q.ROUTE_CONFIG_CACHE_LOOKUP_END],flush_cache_content:[q.BEGIN_RESPONSE,q.CACHE_FLUSH],await_server_response:[q.CACHE_FLUSH,q.NETWORK_RESPONSE_START],flush_server_content:[q.NETWORK_RESPONSE_START,q.NETWORK_RESPONSE_END]};Object.keys(R).forEach(function(X){var Y=R[X],Z=Q[Y[0]],$=Q[Y[1]];if(!Z||!$)return;w.addInteger(X+".begin",Z.ts-G);w.addInteger(X+".end",$.ts-G);w.addInteger(X+".total",$.ts-Z.ts)});var S=P[ha.START];if(S&&S.ts>=G){w.addInteger("sw_started",1);x.setSwStarted(true)}else if(S){w.addInteger("sw_started",0);x.setSwStarted(false)}if(J.workerPerf.annotations.stringProps.hasSWCache)if(J.workerPerf.annotations.stringProps.hasSWCache==="true"){x.setHasSwCacheStorage(true);w.addInteger("has_sw_cache_storage",1)}else{x.setHasSwCacheStorage(false);w.addInteger("has_sw_cache_storage",0)}var T=void 0;if(J.workerPerf.annotations.stringProps.efRSRCSuccess!==undefined){T=Number(J.workerPerf.annotations.stringProps.efRSRCSuccess);x.setEfRsrcSuccessRate(T);w.addInteger("ef_rsrc_success_rate",Math.round(T*100))}if(J.workerPerf.annotations.stringProps.controlledWindows!==undefined)w.addInteger("sw_controlled_windows",Number(J.workerPerf.annotations.stringProps.controlledWindows));if(J.workerPerf.annotations.stringProps.swLoadCountRouteHome!==undefined){var U=Number(J.workerPerf.annotations.stringProps.swLoadCountRouteHome);w.addInteger("home_page_route_load_count",U);x.setHomePageRouteLoadCount(U)}if(J.workerPerf.annotations.stringProps.swAgeRouteHome!==undefined){var V=Number(J.workerPerf.annotations.stringProps.swAgeRouteHome);w.addInteger("home_page_route_age",V);x.setSwCacheAge(V)}if(J.workerPerf.annotations.stringProps.swFetchRouteHome!==undefined)w.addNormal("home_page_route_status",J.workerPerf.annotations.stringProps.swFetchRouteHome);if(J.fullCacheHitData){var W=new(b("BanzaiScuba"))(f,null,{addBrowserFields:true,addGeoFields:true,addPredictedGeographyFields:true,addRequestFields:true});W.addInteger("sw_fnr_load",y?1:0);W.addNormal("experiment_type",t.experimentName);W.addNormal("page_client",t.page);W.addNormal("response_type",b("pageLoadedViaSWCache")()?"sw":"server");W.addNormal("second_load",t.isSecondLoad);W.addNormal("spin_override",t.isSpinOverride);W.addNormal("client_revision",b("SiteData").client_revision);if(t.serverRoute)W.addNormal("serverRoute",t.serverRoute);W.addInteger("display_done_navs",t.displayDone-G);W.addInteger("tti_navs",t.tti-G);if(J.workerPerf.annotations.stringProps.hasSWCache&&J.workerPerf.annotations.stringProps.hasSWCache==="true")W.addInteger("has_sw_cache_canary",1);else W.addInteger("has_sw_cache_canary",0);if(T!==undefined)W.addInteger("ef_rsrc_success_rate",Math.round(T*100));W.addNormal("full_cache_hit_data",J.fullCacheHitData);W.post()}})();if(K){w.addNormal("active_worker",K.active?1:0);w.addNormal("waiting_worker",K.waiting?1:0);w.addNormal("installing_worker",K.installing?1:0)}w.addInteger("tti_navs",t.tti-G);x.setTti(t.tti-G);w.addInteger("e2e_navs",t.e2e-G);x.setE2e(t.e2e-G);w.addInteger("display_done_navs",t.displayDone-G);x.setDisplayDone(t.displayDone-G);if(t.bodyVisible){L=t.bodyVisible;w.addInteger("body_visible_navs",L-G);x.setBodyVisible(L-G)}if(typeof a._cstart==="number"){w.addInteger("cstart_navs",a._cstart-G);x.setCsstart(a._cstart-G)}Object.keys(r).forEach(function(O){var P=r[O];Object.keys(P).forEach(function(Q){w.addInteger("pagelet_"+O+"_"+Q+"_navs",P[Q]-G);if(O===b("PageletEventConstsJS").ARRIVE_START&&(Q==="first_response"||Q==="last_response"||Q==="substream_0"||Q==="substream_1")){var R={};R[Q]=P[Q]-G;x.updateData(R)}})});[{name:"redirect",start:g,end:h},{name:"app_cache",start:h,end:i},{name:"dns",start:i,end:j},{name:"tcp",start:j,end:k},{name:"request",start:k,end:l},{name:"respond",start:l,end:m},{name:"dom_setup",start:l,end:n},{name:"dom_interactive_load",start:n,end:o},{name:"dom_content_load",start:o,end:p},{name:"dom_complete",start:p,end:ea},{name:"unload",start:fa,end:ga}].forEach(function(O){var P=O.name,Q=O.start,R=O.end,S=b("performance").timing[Q]||0,T=b("performance").timing[R]||0;if(T>=S){w.addInteger("perf_timing_"+P,T-S);var U={};U[P]=T-S;x.updateData(U)}});case 27:case"end":return N.stop()}},null,v)}());case 36:w.post();x.log();case 38:case"end":return C.stop()}},null,this)},ia={init:function t(u){__p&&__p();var v=u.isSecondLoad,w=u.experimentName,x=u.serverRoute,y=u.isSpinOverride,z=u.isRecentLogin;b("BanzaiODS").bumpEntityKey("web_speed","ServiceWorkerPerfInit");b("BanzaiODS").bumpEntityKey("web_speed","ServiceWorkerPerfInit."+b("UserAgentData").browserName);var A=null,B=new(b("SubscriptionsHandler"))();B.addSubscriptions(b("Arbiter").subscribe("sw/bodyVisible",function(C,D){var E=D.relativeTime;if(b("performance").timing)A=E+b("performance").timing.navigationStart}));B.addSubscriptions(b("Arbiter").subscribe(b("BigPipe").Events.init,function(C,D){__p&&__p();var E=D.arbiter,F=E.subscribe("pagelet_event",function(C,G){__p&&__p();var event=G.event,H=G.id,I=G.ts;if(!r[event]||typeof I!=="number")return;var J=["first_response","last_response","pagelet_welcome_box","pagelet_dock","pagelet_navigation","pagelet_composer","substream_0","substream_1","pagelet_ego_pane",{regex:/^topnews_main_stream_(\d+)$/,name:"topnews_main_stream"},{regex:/^hyperfeed_story_id_(\d+)$/,name:"hyperfeed_story"}],K=null;for(var L=J,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var O;if(M){if(N>=L.length)break;O=L[N++]}else{N=L.next();if(N.done)break;O=N.value}var P=O;if(typeof P==="string"){if(P===H){K=P;break}}else if(P.regex.test(H)){K=P.name;break}}if(K&&!r[event][K])r[event][K]=I});B.addSubscriptions(F)}));B.addSubscriptions(b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(C,D){var E=D.page,F=D.pageType,G=D.tti,H=D.e2e,I=D.all_pagelets_displayed;F=F||"normal";if(F!=="normal")return;B.release();s({bodyVisible:A,displayDone:I,e2e:H,page:E,pageType:F,tti:G,isSecondLoad:v,isSpinOverride:y,experimentName:w,serverRoute:x,isRecentLogin:z})}))}};c.exports=ia}),null);