if (self.CavalryLogger) { CavalryLogger.start_js(["5tCdi"]); }

__d("ContentSearchEvents",[],(function a(b,c,d,e,f,g){f.exports={CONTENT_SEARCH:"content_search",OPEN_TRAY:"open_tray",QUERY_RESULTS_LOADED:"query_results_loaded",RESULT_SENT:"result_sent",namesByValue:{content_search:"CONTENT_SEARCH",open_tray:"OPEN_TRAY",query_results_loaded:"QUERY_RESULTS_LOADED",result_sent:"RESULT_SENT"}}}),null);
__d("MessengerPlatformQueryType",[],(function a(b,c,d,e,f,g){f.exports={SEARCH:0,MEDIAFY:1,TRENDING:2,SAMPLE:3,namesByValue:["SEARCH","MEDIAFY","TRENDING","SAMPLE"]}}),null);
__d("XMessengerPlatformContentSearchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messaging/content_search/",{q:{type:"String",defaultValue:""},qtype:{type:"Enum",defaultValue:0,enumType:0},resume:{type:"String",defaultValue:""},"interface":{type:"Enum",enumType:0},platform_fbids:{type:"IntVector"}})}),null);
__d("ChatContentSearch",["AsyncRequest","MessengerPlatformQueryType","XMessengerPlatformContentSearchController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getContentForQuery:function i(j){var k=j.query,l=j.callback,m=j.resume,n=j.searchInterface,o=j.platformFBIDs,p=c("XMessengerPlatformContentSearchController").getURIBuilder().setString("q",k).setString("resume",m);if(n!=null)p.setEnum("interface",n);if(o!=null)p.setIntVector("platform_fbids",o);var q=new(c("AsyncRequest"))().setURI(p.getURI()).setHandler(l);q.send();return q},getTrending:function i(j,k,l){var m=c("XMessengerPlatformContentSearchController").getURIBuilder().setEnum("qtype",c("MessengerPlatformQueryType").TRENDING).setString("resume",k);if(l!=null)m.setEnum("interface",l);var n=new(c("AsyncRequest"))().setURI(m.getURI()).setHandler(j);n.send();return n}};f.exports=h}),null);
__d("ChatContentSearchResult.react",["cx","AddCommentFlyoutSizeType","Image.react","Keys","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=274,m=308,n=137,o=152;i=babelHelpers.inherits(p,c("React").PureComponent);j=i&&i.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ChatContentSearchResult1=function(v){v.stopPropagation();this.props.onClick(this.props.result)}.bind(this),this.$ChatContentSearchResult2=function(v){if(v.keyCode===c("Keys").RETURN){v.preventDefault();this.props.onClick(this.props.result)}}.bind(this),r}p.isWide=function(q){var r=q.media.preview;return r.width>r.height*1.2};p.getScaledDimensions=function(q,r,s){var t=q.media.preview,u=t.height,v=t.width,w=s?o:n,x=s?m:l,y=(r?x:w)/v;u*=y;v*=y;return{height:u,width:v}};p.prototype.render=function(){var q=p.getScaledDimensions(this.props.result,this.props.isWide,this.props.size==="large");return c("React").createElement(c("Image.react"),{className:"_358"+(this.props.isWide?" _26n6":""),onClick:this.$ChatContentSearchResult1,onKeyDown:this.$ChatContentSearchResult2,src:this.props.src,style:q,tabIndex:"0"})};p.propTypes={isWide:k.bool.isRequired,onClick:k.func.isRequired,result:k.object.isRequired,src:k.string.isRequired,size:k.oneOf(Object.values(c("AddCommentFlyoutSizeType")))};p.defaultProps={size:c("AddCommentFlyoutSizeType").SMALL};f.exports=p}),null);
__d("ChatContentSearchResults.react",["AddCommentFlyoutSizeType","ChatContentSearch","ChatContentSearchResult.react","MercuryConfig","MessengerPlatformInterfaceType","MessengerSpinner.react","ReactComponentWithPureRenderMixin","React","ScrollableArea.react","debounce","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i={};function j(l){return l.replace(/^httpss/,"https")}var k=c("React").createClass({displayName:"ChatContentSearchResults",_inflightRequest:undefined,_requestResults:c("emptyFunction"),_reset:c("emptyFunction"),_inflightTimeStart:undefined,mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{onResultsLoaded:h.func,onSelect:h.func.isRequired,query:h.string.isRequired,searchInterface:h.oneOf([c("MessengerPlatformInterfaceType").UNKNOWN_INTERFACE,c("MessengerPlatformInterfaceType").FB_INTERFACE,c("MessengerPlatformInterfaceType").MESSENGER_INTERFACE,c("MessengerPlatformInterfaceType").FB_POST_INTERFACE]),size:h.oneOf(Object.values(c("AddCommentFlyoutSizeType"))),platformFBIDs:h.array},getInitialState:function l(){return{isLoading:false,response:null,results:[]}},getDefaultProps:function l(){return{size:"small"}},componentDidMount:function l(){this._reset=c("debounce")(this._resetImpl,100);this._requestResults=c("debounce")(this._requestResultsImpl,200);this._requestResults()},componentWillUnmount:function l(){this._cancelInflightRequest()},componentWillReceiveProps:function l(m){if(m.query!==this.props.query)this._reset(this._requestResultsImpl)},render:function l(){return c("React").createElement(c("ScrollableArea.react"),{fade:true,onScroll:this._handleScroll,ref:"scrollable"},this._renderResults(),this._renderLoadingIndicator())},_renderLoadingIndicator:function l(){if(!this.state.isLoading)return null;return c("React").createElement("div",{style:{marginTop:this.state.response?"10px":"140px",textAlign:"center"}},c("React").createElement(c("MessengerSpinner.react"),{color:"grey",size:c("MessengerSpinner.react").medium_size}))},_requestResultsImpl:function l(){__p&&__p();this._cancelInflightRequest();this._inflightTimeStart=Date.now();if(this.state.response&&(!this.state.response.resultNextCursor||!this.props.query))return;var m=void 0;this.setState({isLoading:true});if(this.props.query)m=c("ChatContentSearch").getContentForQuery({query:this.props.query,resume:this.state.response?this.state.response.resultNextCursor:undefined,callback:this._handleAsyncResponse,searchInterface:this.props.searchInterface,platformFBIDs:this.props.platformFBIDs});else m=c("ChatContentSearch").getTrending(this._handleAsyncResponse,this.state.response?this.state.response.resultNextCursor:undefined,this.props.searchInterface);this._inflightRequest=m},_handleAsyncResponse:function l(m){__p&&__p();if(this._inflightRequest===m.request){i=babelHelpers["extends"]({},i,m.payload.attribution);this.setState({isLoading:false,response:m.payload,results:m.payload.resultGroup[0]?this.state.results.concat(m.payload.resultGroup[0].results):this.state.results},function(){if(this._inflightTimeStart){if(this.props.onResultsLoaded)this.props.onResultsLoaded(Date.now()-this._inflightTimeStart);delete this._inflightTimeStart}}.bind(this));delete this._inflightRequest}},_cancelInflightRequest:function l(){this.setState({isLoading:false});if(this._inflightRequest){this._inflightRequest.abort();delete this._inflightRequest;delete this._inflightTimeStart}},_renderResults:function l(){if(!this.state.response||!this.state.results.length)return null;return this.state.results.map(function(m,n){var o=c("ChatContentSearchResult.react").isWide(m);if(!o&&m.platformFBID.toString()!==c("MercuryConfig").MessengerAppID){var p=n-this._getPrevWideIndex(n),q=this._getNextWideIndex(n)-n;o=(p<=1||p%2!==0)&&q<=1}return c("React").createElement(c("ChatContentSearchResult.react"),{isWide:o,key:"result:"+n+":"+m.resultID,onClick:this._handleResultClick,result:m,src:j(m.media.preview.url),size:this.props.size})}.bind(this))},_getPrevWideIndex:function l(m){while(m>0){--m;if(c("ChatContentSearchResult.react").isWide(this.state.results[m]))return m}return m},_getNextWideIndex:function l(m){var n=this.state.results.length;while(m<n-1){++m;if(c("ChatContentSearchResult.react").isWide(this.state.results[m]))return m}return m},_handleResultClick:function l(m){this.props.onSelect(m,i[m.platformFBID])},_handleScroll:function l(){if(this._isScrolledNearBottom()&&!this._inflightRequest)this._requestResults()},_isScrolledNearBottom:function l(){var m=this.refs.scrollable.getArea();return!!(m&&m.distanceToBottom()<=50)},_resetImpl:function l(m){this.setState(this.getInitialState(),m)}});f.exports=k}),null);
__d("ChatContentSearchTrendingIndicator.react",["cx","fbt","ix","Image.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n)}m.prototype.shouldComponentUpdate=function(n){return n.shown!==this.props.shown};m.prototype.render=function(){return this.props.shown?c("React").createElement("div",{className:"_515"},c("React").createElement(c("Image.react"),{src:j("28005")}),i._("\uc778\uae30 \ucf58\ud150\uce20")):null};f.exports=m}),null);
__d("ChatContentSearchFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","BanzaiLogger","ContentSearchEvents","ChatContentSearchResults.react","ChatContentSearchTrendingIndicator.react","Keys","MessengerPlatformInterfaceType","MessengerSearchInput.react","React","ReactDOM","MercuryShareAttachmentRenderLocations","UFISearchInput.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=" ",n=/\s+/g,o=c("MercuryShareAttachmentRenderLocations").COMPOSER,p=c("MercuryShareAttachmentRenderLocations").MESSENGER,q="406655189415060";j=babelHelpers.inherits(r,c("React").PureComponent);k=j&&j.prototype;function r(){__p&&__p();var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={query:this.props.query,viewerEnteredText:false},this.$ChatContentSearchFlyout6=function(x){this.setState({query:x.target.value,viewerEnteredText:x.target.value.length>0})}.bind(this),this.$ChatContentSearchFlyout1=function(x){return(x||"").trim().replace(n,m).toLowerCase()},this.$ChatContentSearchFlyout2=function(x){if(x.keyCode===c("Keys").ESC&&this.props.onEscKeyDown)this.props.onEscKeyDown()}.bind(this),this.$ChatContentSearchFlyout5=function(x,y){this.props.onSelect(x,y);c("BanzaiLogger").log("ContentSearchLoggerConfig",{event:c("ContentSearchEvents").RESULT_SENT,query:this.state.query,resultid:x.resultID})}.bind(this),this.$ChatContentSearchFlyout4=function(x){c("BanzaiLogger").log("ContentSearchLoggerConfig",{event:c("ContentSearchEvents").QUERY_RESULTS_LOADED,query:this.state.query,inflighttime:x})}.bind(this),t}r.prototype.componentDidMount=function(){c("BanzaiLogger").log("ContentSearchLoggerConfig",{event:c("ContentSearchEvents").OPEN_TRAY,query:this.state.query});if(this.refs.input)if(this.refs.input.focusInput)this.refs.input.focusInput();else c("ReactDOM").findDOMNode(this.refs.input).focus()};r.prototype.componentWillReceiveProps=function(s){if(!this.state.viewerEnteredText)this.setState({query:s.query})};r.prototype.render=function(){var s=this.$ChatContentSearchFlyout1(this.state.query),t=this.$ChatContentSearchFlyout1(this.props.queryDefault),u=s.length===0?t:s;return c("React").createElement("div",{className:"_1er4",onKeyDown:this.$ChatContentSearchFlyout2,role:"presentation"},c("React").createElement("div",{className:"_3mtr"},this.$ChatContentSearchFlyout3()),c("React").createElement("div",{className:"_3mts"},c("React").createElement(c("ChatContentSearchResults.react"),{onResultsLoaded:this.$ChatContentSearchFlyout4,onSelect:this.$ChatContentSearchFlyout5,query:u,searchInterface:this.props.searchInterface,size:this.props.size,platformFBIDs:t.length===0?[]:[q]}),c("React").createElement(c("ChatContentSearchTrendingIndicator.react"),{shown:u.length===0})))};r.prototype.$ChatContentSearchFlyout3=function(){var s=this.props.location===p?c("MessengerSearchInput.react"):this.props.location===o?c("UFISearchInput.react"):c("XUITextInput.react");return c("React").createElement(s,{className:"_4qcs",isFocused:true,onClick:function t(u){return u&&u.stopPropagation()},onChange:this.$ChatContentSearchFlyout6,onClear:function(){this.setState({query:this.props.queryDefault||"",viewerEnteredText:false})}.bind(this),placeholder:i._("\ubaa8\ub4e0 \uc571\uc5d0\uc11c GIF \uac80\uc0c9..."),ref:"input",value:this.state.query||""})};r.propTypes={location:l.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),onEscKeyDown:l.func,onSelect:l.func.isRequired,query:l.string,searchInterface:l.oneOf([c("MessengerPlatformInterfaceType").UNKNOWN_INTERFACE,c("MessengerPlatformInterfaceType").FB_INTERFACE,c("MessengerPlatformInterfaceType").FB_POST_INTERFACE,c("MessengerPlatformInterfaceType").MESSENGER_INTERFACE]),size:l.oneOf(Object.values(c("AddCommentFlyoutSizeType"))),queryDefault:l.string};r.defaultProps={size:c("AddCommentFlyoutSizeType").SMALL};f.exports=r}),null);
__d("PlainTextEditor.react",["DraftEditor.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.focus=function(){this.refs.editor.focus()}.bind(this),l}j.prototype.render=function(){return c("React").createElement(c("DraftEditor.react"),babelHelpers["extends"]({},this.props,{ref:"editor",stripPastedStyles:true}))};j.propTypes=c("DraftEditor.react").propTypes;j.defaultProps=c("DraftEditor.react").defaultProps;f.exports=j}),null);
__d("XProfileFunFactsAskPromptCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/ask_prompt/create/",{})}),null);
__d("FunFactAskPromptSelector.react",["cx","AsyncRequest","AsyncResponse","ContentState","EditorState","FlexLayout.react","FunFactStrings","PlainTextEditor.react","React","TextWithEmoticons.react","XProfileFunFactsAskPromptCreateController","XUIButton.react","XUISpinner.react","isEmpty"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=100,l=128173;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state=this.$FunFactAskPromptSelector2(),this.$FunFactAskPromptSelector7=function(){this.setState({isSaving:true});var s=c("XProfileFunFactsAskPromptCreateController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(s).setData({emoji:String.fromCodePoint(l),title:this.state.editorState.getCurrentContent().getPlainText()}).setHandler(function(t){this.props.onSave(t.getPayload())}.bind(this)).setErrorHandler(function(t){c("AsyncResponse").defaultErrorHandler(t);this.setState(this.$FunFactAskPromptSelector2())}.bind(this)).send()}.bind(this),this.$FunFactAskPromptSelector5=function(s){var t=s.getCurrentContent().getPlainText();this.setState({editorState:s,isSaveDisabled:c("isEmpty")(t)||t.length>k})}.bind(this),o}m.prototype.$FunFactAskPromptSelector2=function(){return{editorState:c("EditorState").createWithContent(c("ContentState").createFromText("")),isSaveDisabled:true,isSaving:false}};m.prototype.$FunFactAskPromptSelector3=function(){var n=String.fromCodePoint(l),o=c("React").createElement("div",{className:"_4s3r _4s3s _3-8y"},c("React").createElement(c("PlainTextEditor.react"),{editorState:this.state.editorState,handleBeforeInput:this.$FunFactAskPromptSelector4,onChange:this.$FunFactAskPromptSelector5,placeholder:c("FunFactStrings").SINGLE_PROMPT_ASK_QUESTION_PLACEHOLDER,ref:function(p){return this.$FunFactAskPromptSelector1=p}.bind(this)}));return c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_4s3u",direction:"vertical",justify:"center"},c("React").createElement(c("TextWithEmoticons.react"),{size:32,text:n}),o)};m.prototype.$FunFactAskPromptSelector6=function(){var n=null;if(this.state.isSaving)n=c("React").createElement(c("XUISpinner.react"),{className:"_3-90 _3-8x"});return c("React").createElement(c("FlexLayout.react"),{className:"_2ph_",direction:"horizontal",justify:"end"},n,c("React").createElement(c("XUIButton.react"),{disabled:this.state.isSaveDisabled||this.state.isSaving,label:c("FunFactStrings").SINGLE_PROMPT_SAVE_AND_TAG,onClick:this.$FunFactAskPromptSelector7,size:"large",use:"confirm"}))};m.prototype.$FunFactAskPromptSelector4=function(n,o){var p=o.getCurrentContent().getPlainText().length;if(p>=k)return"handled";return"not-handled"};m.prototype.componentDidMount=function(){this.$FunFactAskPromptSelector1&&this.$FunFactAskPromptSelector1.focus()};m.prototype.render=function(){return c("React").createElement("div",null,this.$FunFactAskPromptSelector3(),this.$FunFactAskPromptSelector6())};f.exports=m}),null);
__d("XProfileFunFactsUserPromptDisableController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/user_prompt/disable/",{prompt_id:{type:"FBID",required:true}})}),null);
__d("XProfileFunFactsUserPromptFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/user_prompt/fetch/",{})}),null);
__d("FunFactManagePromptsComponent.react",["ix","cx","AsyncRequest","FlexLayout.react","Image.react","React","ScrollableArea.react","Text.react","TextWithEmoticons.react","XProfileFunFactsUserPromptDisableController","XProfileFunFactsUserPromptFetchController","XUISpinner.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=277;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={isLoading:false,prompts:[]},o}m.prototype.$FunFactManagePromptsComponent1=function(){var n=c("XProfileFunFactsUserPromptFetchController").getURIBuilder().getURI();this.setState({isLoading:true});new(c("AsyncRequest"))(n).setHandler(function(o){this.setState({isLoading:false,prompts:o.getPayload()})}.bind(this)).send()};m.prototype.$FunFactManagePromptsComponent2=function(n){__p&&__p();var o=this.state.prompts.map(function(q){if(q.id===n.id)q.isDisabling=true;return q});this.setState({prompts:o});var p=c("XProfileFunFactsUserPromptDisableController").getURIBuilder().setFBID("prompt_id",n.id.toString()).getURI();new(c("AsyncRequest"))(p).setHandler(function(){o=this.state.prompts.filter(function(q){return q.id!==n.id});this.setState({prompts:o})}.bind(this)).send()};m.prototype.componentDidMount=function(){this.$FunFactManagePromptsComponent1()};m.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_4d8v",direction:"vertical",justify:"center"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement(c("ScrollableArea.react"),{height:l},this.state.prompts.map(function(n){return c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_4d8w _2ph_",justify:"all",key:n.id},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("TextWithEmoticons.react"),{size:20,text:n.emoji}),c("React").createElement(c("Text.react"),{className:"_4d8x _3-9a"},n.title)),n.isDisabling?c("React").createElement(c("XUISpinner.react"),{className:"_3-8_"}):c("React").createElement(c("Image.react"),{className:"_4d92",onClick:this.$FunFactManagePromptsComponent2.bind(this,n),src:h("407658")}))}.bind(this)))};f.exports=m}),null);
__d("ReactComposerFunFactSinglePromptDialog.react",["ix","cx","DialogExpansion","FunFactAskPromptSelector.react","FunFactManagePromptsComponent.react","FunFactSinglePromptSelector.react","FunFactStrings","Image.react","LayerFadeOnHide","Layout.react","ProfileFunFactsTestIDs","React","TabBar.react","TabBarItem.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=500,o=600,p=Object.freeze({ANSWER:"answer",ASK:"ask",MANAGE:"manage"});j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={selectedTab:p.ANSWER},this.$ReactComposerFunFactSinglePromptDialog2=function(w){this.setState({selectedTab:w})}.bind(this),s}q.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{DialogExpansion:c("DialogExpansion"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:null},"data-testid":c("ProfileFunFactsTestIDs").DIALOG,isStrictlyControlled:true,onHide:this.props.onClose,shown:this.props.showDialog,width:this.props.showAskFriendTab?o:n},c("React").createElement(c("XUIDialogTitle.react"),{className:"_4xqu"},c("FunFactStrings").SINGLE_PROMPT_DIALOG_TITLE),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("Layout.react"),{className:"_4xqv _2ph_"},this.props.showAskFriendTab?c("React").createElement(l,{className:"_3-91"},this.$ReactComposerFunFactSinglePromptDialog1()):null,c("React").createElement(m,{className:"_64pf"},c("React").createElement("div",{className:this.state.selectedTab!==p.ANSWER?"_1rxh":""},c("React").createElement(c("FunFactSinglePromptSelector.react"),this.props)),c("React").createElement("div",{className:this.state.selectedTab!==p.ASK?"_1rxh":""},c("React").createElement(c("FunFactAskPromptSelector.react"),this.props)),c("React").createElement("div",{className:this.state.selectedTab!==p.MANAGE?"_1rxh":""},c("React").createElement(c("FunFactManagePromptsComponent.react"),null))))))};q.prototype.$ReactComposerFunFactSinglePromptDialog1=function(){var r=[{icon:h("407305"),key:p.ANSWER,label:c("FunFactStrings").SINGLE_PROMPT_ANSWER_TAB},{icon:h("400375"),key:p.ASK,label:c("FunFactStrings").SINGLE_PROMPT_ASK_TAB},{icon:h("398385"),key:p.MANAGE,label:c("FunFactStrings").SINGLE_PROMPT_MANAGE_TAB}];return c("React").createElement(c("TabBar.react"),{activeTabKey:this.state.selectedTab,className:"_63_w",onTabClick:this.$ReactComposerFunFactSinglePromptDialog2,orientation:"vertical"},r.map(function(s){return c("React").createElement(c("TabBarItem.react"),{className:"_63_x",key:s.key},c("React").createElement(c("Image.react"),{className:"_3-90",src:s.icon}),s.label)}))};f.exports=q}),null);
__d("XProfileFunFactsSinglePromptFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/fun_facts/single_prompt/fetch/",{fetch_amount:{type:"Int"},pinned_prompt_id:{type:"FBID"}})}),null);
__d("ReactComposerFunFactToggleController.react",["Arbiter","AsyncRequest","ComposerEntryPointRef","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextStore","ReactComposerFunFactSinglePromptDialog.react","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","LoadingDialog.react","ProfileFunFactsComposerEvents","ProfileFunFactsReactComposerTypedLogger","Random","React","ReactComposerContextTypes","XProfileFunFactsSinglePromptFetchController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=-1,k=0;h=babelHelpers.inherits(l,c("React").PureComponent);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isLoading:false,loadingInitiated:false,prompts:[],selectedPrompt:{}},this.$ReactComposerFunFactToggleController1=function(){if(!this.state.loadingInitiated)this.$ReactComposerFunFactToggleController7();c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,c("ReactComposerTaggerType").FUN_FACT);this.$ReactComposerFunFactToggleController8()}.bind(this),this.$ReactComposerFunFactToggleController4=function(){if(this.props.showDialog){new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(c("ProfileFunFactsComposerEvents").PROMPTS_CANCEL).log();c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)}}.bind(this),this.$ReactComposerFunFactToggleController6=function(r){var s={askedPromptID:r.id,prompt:r};new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(c("ProfileFunFactsComposerEvents").PROMPT_ASK).setFunFactPromptID(s.askedPromptID).log();if(!c("ReactComposerTaggerStore").isDisabled(this.context.composerID,c("ReactComposerTaggerType").FORMATTED_TEXT))c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,j);this.$ReactComposerFunFactToggleController9(s)}.bind(this),this.$ReactComposerFunFactToggleController3=function(){var r={prompt:this.state.selectedPrompt,promptID:this.state.selectedPrompt.id};new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(c("ProfileFunFactsComposerEvents").PROMPT_SELECT).setFunFactPromptID(r.promptID).log();var s=c("ReactComposerFormattedTextStore").getSelectedIndex(this.context.composerID);if(s===j&&!c("ReactComposerTaggerStore").isDisabled(this.context.composerID,c("ReactComposerTaggerType").FORMATTED_TEXT))c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,k);this.$ReactComposerFunFactToggleController9(r)}.bind(this),this.$ReactComposerFunFactToggleController5=function(){new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(c("ProfileFunFactsComposerEvents").PROMPT_NEW_QUESTION_TAP).setFunFactPromptID(this.state.selectedPrompt.id).log();var r=this.state.prompts;this.setState({selectedPrompt:r[Math.floor(c("Random").random()*r.length)]})}.bind(this),n}l.prototype.render=function(){return c("React").createElement("span",{onClick:this.$ReactComposerFunFactToggleController1,role:"presentation"},this.props.children,this.$ReactComposerFunFactToggleController2())};l.prototype.$ReactComposerFunFactToggleController2=function(){if(!this.state.loadingInitiated)return null;if(this.state.isLoading)return c("React").createElement(c("LoadingDialog.react"),null);return c("React").createElement(c("ReactComposerFunFactSinglePromptDialog.react"),{onChoose:this.$ReactComposerFunFactToggleController3,onClose:this.$ReactComposerFunFactToggleController4,onRandomize:this.$ReactComposerFunFactToggleController5,onSave:this.$ReactComposerFunFactToggleController6,prompt:this.state.selectedPrompt,showAskFriendTab:this.props.showAskFriendTab,showDialog:this.props.showDialog})};l.prototype.$ReactComposerFunFactToggleController7=function(){this.setState({isLoading:true,loadingInitiated:true});var m=c("XProfileFunFactsSinglePromptFetchController").getURIBuilder();new(c("AsyncRequest"))(m.getURI()).setHandler(function(n){var o=n.getPayload();this.setState({isLoading:false,prompts:o,selectedPrompt:o[0]})}.bind(this)).send()};l.prototype.$ReactComposerFunFactToggleController8=function(){var event=null;if(this.props.entryPoint===c("ComposerEntryPointRef").FEEDX_SPROUTS)event=c("ProfileFunFactsComposerEvents").FEED_SPROUT_LAUNCH_PROMPTS;else if(this.props.entryPoint===c("ComposerEntryPointRef").TIMELINE)event=c("ProfileFunFactsComposerEvents").TIMELINE_SPROUT_LAUNCH_PROMPTS;if(event!==null)new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(event).log()};l.prototype.$ReactComposerFunFactToggleController9=function(m){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").FUN_FACT,c("ReactComposerTaggerType").FUN_FACT,m);c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)};l.contextTypes=c("ReactComposerContextTypes");f.exports=l}),null);
__d("ReactComposerGIFToggleController.react",["cx","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","React","ReactComposerContextTypes","ReactComposerEvents","ReactComposerTaggerActions","ReactComposerTaggerType","MessengerPlatformInterfaceType","ChatContentSearchFlyout.react","XUIContextualDialog.react","ReactComposerScrapedAttachmentActions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$ReactComposerGIFToggleController1=function(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,c("ReactComposerTaggerType").GIF,false)}.bind(this),this.$ReactComposerGIFToggleController3=function(){if(this.props.showFlyout)c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)}.bind(this),this.$ReactComposerGIFToggleController4=function(q){c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,q.source.url,this.context.composerType,this.context.actorID,this.props.loggingName);c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,c("ReactComposerTaggerType").GIF,{gifData:{url:q.source.url}});this.$ReactComposerGIFToggleController3();c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("span",{onClick:this.props.onClick||this.$ReactComposerGIFToggleController1,role:"presentation"},c("React").createElement("span",{className:this.props.spanClassName,ref:"container"},this.props.children),this.$ReactComposerGIFToggleController2())};k.prototype.$ReactComposerGIFToggleController2=function(){if(!this.props.showFlyout)return null;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:this.props.alignment||"left",behaviors:{LayerTabIsolation:c("LayerTabIsolation")},contextRef:function(){return this.refs.container}.bind(this),onBlur:this.props.onBlur||this.$ReactComposerGIFToggleController3,onToggle:function(l){if(!l&&this.props.showFlyout)this.props.onBlur&&this.props.onBlur()||this.$ReactComposerGIFToggleController3()}.bind(this),position:"below",shown:this.props.showFlyout,hasActionableContext:true,width:278},c("React").createElement("div",null,c("React").createElement(c("ChatContentSearchFlyout.react"),{onEscKeyDown:this.props.onBlur||this.$ReactComposerGIFToggleController3,onSelect:this.props.onSelect||this.$ReactComposerGIFToggleController4,searchInterface:c("MessengerPlatformInterfaceType").FB_POST_INTERFACE,shown:this.props.showFlyout})))};k.contextTypes=c("ReactComposerContextTypes");f.exports=k}),null);
__d("ReactComposerFunFactSproutContainer.react",["ReactComposerDisabledSproutItem.react","ComposerEntryPointRef","ReactComposerFunFactToggleController.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerStore","ReactComposerTaggerType","ExtensibleSproutsItemType","FluxContainer","ProfileFunFactsReactComposerTypedLogger","ProfileFunFactsComposerEvents","React","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=m.composerID;return{highlighted:c("ReactComposerTaggerStore").hasData(n,c("ReactComposerTaggerType").FUN_FACT),isDisabled:c("ReactComposerTaggerStore").isDisabled(n,c("ReactComposerTaggerType").FUN_FACT),isSelected:c("ReactComposerTaggerStore").getSelectedTagger(n)===c("ReactComposerTaggerType").FUN_FACT}};j.prototype.componentDidMount=function(){this.$ReactComposerFunFactSproutContainer1()};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});var k=false,l=this.props.config.taggersConfig;if(l&&l[c("ReactComposerTaggerType").FUN_FACT])k=l[c("ReactComposerTaggerType").FUN_FACT].singlePromptWithAsk;var m=this.props.config.loggingConfig?this.props.config.loggingConfig.ref:null;return c("React").createElement(c("ReactComposerFunFactToggleController.react"),{entryPoint:m,loggingName:this.props.uiConfig.loggingName,showAskFriendTab:k,showDialog:this.state.isSelected},c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};j.prototype.$ReactComposerFunFactSproutContainer1=function(){var k=this.props.config.loggingConfig?this.props.config.loggingConfig.ref:null,event=null;switch(k){case c("ComposerEntryPointRef").FEEDX_SPROUTS:event=c("ProfileFunFactsComposerEvents").FEED_SPROUT_IMPRESSION;break;case c("ComposerEntryPointRef").TIMELINE:event=c("ProfileFunFactsComposerEvents").TIMELINE_SPROUT_IMPRESSION;break}if(event!==null)new(c("ProfileFunFactsReactComposerTypedLogger"))().setEvent(event).log()};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").FUN_FACT]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerGIFSproutContainer.react",["cx","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerGIFToggleController.react","ReactComposerTaggerStore","ReactComposerScrapedAttachmentStore","ReactComposerMediaUploadStore","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("ReactComposerTaggerStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMediaUploadStore")]};k.calculateState=function(l,m,n){var o=n.composerID;return{highlighted:c("ReactComposerTaggerStore").hasData(o,c("ReactComposerTaggerType").GIF),isDisabled:c("ReactComposerTaggerStore").isDisabled(o,c("ReactComposerTaggerType").GIF),isSelected:c("ReactComposerTaggerStore").getSelectedTagger(o)===c("ReactComposerTaggerType").GIF}};k.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ReactComposerGIFToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,spanClassName:"_4mvf",loggingName:this.props.uiConfig.loggingName}),c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};function k(){i.apply(this,arguments)}k.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").GIF]};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerMediaSproutContainer.react",["ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaSprout.react","ReactComposerMediaUploadStore","ReactComposerContextTypes","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore")]};j.calculateState=function(k,l,m){var n=c("ReactComposerAttachmentStore").getIsAttachmentSelected(m.composerID,c("ReactComposerAttachmentType").MEDIA),o=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID);return{highlighted:!!o&&n}};j.prototype.render=function(){return c("React").createElement(c("ReactComposerMediaSprout.react"),babelHelpers["extends"]({config:this.props.config},this.props,this.state))};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerRecommendationsSproutContainer.react",["ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerContextTypes","ReactComposerStore","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfig","ExtensibleSproutsItemType","FluxContainer","React","ShimButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$ReactComposerRecommendationsSproutContainer1=function(p){if(!this.state.isSelected)c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").PLACE_LIST,true,c("ExtensibleSproutsItemType").RECOMMENDATION,c("ReactComposerStore").getSproutSurface(this.context.composerID))}.bind(this),l}j.getStores=function(){return[c("ReactComposerAttachmentStore"),c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m.composerID),o=n===c("ReactComposerAttachmentType").PLACE_LIST;return{isSelected:o,isDisabled:c("ReactComposerTaggerStore").isDisabled(m.composerID,c("ReactComposerTaggerType").RECOMMENDATION)}};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ShimButton.react"),{onClick:this.$ReactComposerRecommendationsSproutContainer1},c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").RECOMMENDATION]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerTagEventSproutContainer.react",["React","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:c("ReactComposerTaggerType").TAG_EVENT})};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").TAG_EVENT]};f.exports=j}),null);