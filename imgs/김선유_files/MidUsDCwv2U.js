if (self.CavalryLogger) { CavalryLogger.start_js(["HOMCX"]); }

__d("TagEventSproutConsts",[],(function a(b,c,d,e,f,g){f.exports={composer_action_id:"668012816568345"}}),null);
__d("TagEventSproutEventPickerRelaySearchSourceQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"query",type:"String",defaultValue:null},{kind:"LocalArgument",name:"limit",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"verb",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"first",variableName:"limit",type:"Int"},{kind:"Literal",name:"object_type",value:["ENTITY"],type:"[MinutiaeSuggestionObjectType]"},{kind:"Variable",name:"query_string",variableName:"query",type:"String"},{kind:"Literal",name:"query_type",value:"OBJECT_PER_VERB",type:"MinutiaeSuggestionQueryType"},{kind:"Variable",name:"verb",variableName:"verb",type:"ID"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},n={kind:"ScalarField",alias:null,name:"capitalized_day_time_sentence",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"TagEventSproutEventPickerRelaySearchSourceQuery",id:"1444497185663986",text:null,metadata:{},fragment:{kind:"Fragment",name:"TagEventSproutEventPickerRelaySearchSourceQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"LinkedField",alias:null,name:"minutiae_suggestions",storageKey:null,args:j,concreteType:"MinutiaeSuggestionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MinutiaeSuggestionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MinutiaeSuggestion",plural:false,selections:[{kind:"LinkedField",alias:null,name:"object",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Event",selections:[k,l,m,{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:false,selections:[l]},n]}]}]}]}]}]}]},operation:{kind:"Operation",name:"TagEventSproutEventPickerRelaySearchSourceQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"LinkedField",alias:null,name:"minutiae_suggestions",storageKey:null,args:j,concreteType:"MinutiaeSuggestionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MinutiaeSuggestionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MinutiaeSuggestion",plural:false,selections:[{kind:"LinkedField",alias:null,name:"object",storageKey:null,args:null,concreteType:null,plural:false,selections:[o,k,{kind:"InlineFragment",type:"Event",selections:[l,m,{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:false,selections:[o,l,k]},n]}]}]}]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}}}();f.exports=h}),null);
__d("ComposerTagEventTypeahead.react",["cx","fbt","React","XUITypeahead.react","WebAsyncSearchSource","SearchableEntry","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$ComposerTagEventTypeahead1=function(event){this.setState({query:event.target.value})}.bind(this);this.$ComposerTagEventTypeahead2=function(n){var o=this.$ComposerTagEventTypeahead7();o.event=n;this.setState({query:n.getTitle()});this.props.onSelect(o)}.bind(this);this.$ComposerTagEventTypeahead4=function(){this.$ComposerTagEventTypeahead8();this.setState({query:""})}.bind(this);this.$ComposerTagEventTypeahead3=function(event){if(this.state.query===event.target.value)this.$ComposerTagEventTypeahead8()}.bind(this);this.state={query:m.taggerData.event?m.taggerData.event.getTitle():""}}l.prototype.componentDidMount=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()};l.prototype.render=function(){return c("React").createElement(c("XUITypeahead.react"),{autoHighlight:true,className:"_5esx _4zdz",clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,onChange:this.$ComposerTagEventTypeahead1,onSelectAttempt:this.$ComposerTagEventTypeahead2,showEntriesOnFocus:true,placeholder:i._("\ud0dc\uadf8\ud560 \uc774\ubca4\ud2b8\ub294?"),onBackspace:this.$ComposerTagEventTypeahead3,onClear:this.$ComposerTagEventTypeahead4,queryString:this.state.query,ref:"typeahead",searchSource:this.$ComposerTagEventTypeahead5(),tallInput:false,selectedEntry:this.props.taggerData.event,initialEntry:this.props.taggerData.event,presenter:this.$ComposerTagEventTypeahead6()})};l.prototype.$ComposerTagEventTypeahead7=function(){return Object.assign({},this.props.taggerData)};l.prototype.$ComposerTagEventTypeahead5=function(){return this.state.query?this.props.userInputEventsSearchSource:this.props.nearByEventsSearchSource};l.prototype.$ComposerTagEventTypeahead6=function(){var m={taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE};return Object.assign({},c("ReactComposerTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:m,maxEntries:15})};l.prototype.$ComposerTagEventTypeahead8=function(){var m=this.$ComposerTagEventTypeahead7();m.event=null;m.eventID=null;this.props.onSelect(m)};f.exports=l}),null);
__d("ReactComposerTagEventTaggerComponent.react",["cx","fbt","Grid.react","React","WebAsyncSearchSource","ComposerTagEventTypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("Grid.react").GridItem;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement(c("Grid.react"),{className:"_5esl",cols:2,role:"presentation"},c("React").createElement(l,{className:"_5esm",key:"label",role:"presentation"},i._("\ucc38\uc11d \uc911...")),c("React").createElement(l,{className:"_5esw",key:"tokenizer",role:"presentation"},c("React").createElement(c("ComposerTagEventTypeahead.react"),{autoFocus:this.props.autoFocus,onSelect:this.props.onSelect,nearByEventsSearchSource:this.props.nearByEventsSearchSource,taggerData:this.props.taggerData,userInputEventsSearchSource:this.props.userInputEventsSearchSource})))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("TagEventSproutEventPickerRelaySearchSource",["AbstractRelaySearchSource","RelayFBEnvironment","SearchableEntry","RelayModern","idx","TagEventSproutEventPickerRelaySearchSourceQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RelayModern").graphql,k=20,l=668012816568345,m=function m(){return c("TagEventSproutEventPickerRelaySearchSourceQuery.graphql")};function n(r){return{query:m,variables:{query:r,limit:k,verb:l}}}function o(r){__p&&__p();var s,t=(s=r)!=null?(s=s.viewer)!=null?(s=s.minutiae_suggestions)!=null?s.edges:s:s:s;if(!t)return[];return t.map(function(u,v){var w,x,y,event=u.node.object,z=(w=event)!=null?w.capitalized_day_time_sentence:w,A=(x=event)!=null?(x=x.event_place)!=null?x.name:x:x,B="";if(A===null)B=z;else if(z===null)B=A;else B=[z,"\xb7",A].join(" ");return new(c("SearchableEntry"))({uniqueID:event.id,title:event.name,subtitle:B,photo:(y=event)!=null?(y=y.profile_picture)!=null?y.uri:y:y})})}var p=function p(r,s){return s(r)};h=babelHelpers.inherits(q,c("AbstractRelaySearchSource"));i=h&&h.prototype;function q(){var r={bootstrapRequests:[{gen:function s(t){return n(t)}}],queryRequests:[{gen:function s(t){return n(t)}}],packageFn:o,getAllForEmptyQuery:true};i.constructor.call(this,c("RelayFBEnvironment"),r,p)}f.exports=q}),null);
__d("XEventsTagEventTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/tag_event_sprout/typeahead/",{media_latitude:{type:"Float"},media_longitude:{type:"Float"},media_taken_time:{type:"Int"}})}),null);
__d("ReactComposerTagEventTaggerContainer.react",["areEqual","React","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTagEventTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","TagEventSproutEventPickerRelaySearchSource","TagEventSproutConsts","WebAsyncSearchSource","XEventsTagEventTypeaheadController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerTagEventTaggerContainer",mixins:[c("ReactComposerTaggerContainerStateMixin")()],statics:{taggerID:c("ReactComposerTaggerType").TAG_EVENT,loggingName:c("ReactComposerLoggingName").TAG_EVENT,taggerComponent:c("ReactComposerTagEventTaggerComponent.react")},propTypes:{mediaLocation:h.shape({latitude:h.number.isRequired,longitude:h.number.isRequired}),mediaTakenTime:h.number,isPersonalTimeline:h.bool},_nearByEventsSearchSource:null,_userInputEventsSearchSource:c("TagEventSproutEventPickerRelaySearchSource"),componentWillMount:function j(){this._initNearByEventsSearchSource(this.props);this._initUserInputEventsSearchSource()},componentWillReceiveProps:function j(k){if(!c("areEqual")(k.mediaLocation,this.props.mediaLocation)||!c("areEqual")(k.mediaTakenTime,this.props.mediaTakenTime))this._initNearByEventsSearchSource(k)},render:function j(){if(!this.state.isSelected)return null;return c("React").createElement("div",{"data-testid":"tag-event-tagger-component"},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected},c("React").createElement(c("ReactComposerTagEventTaggerComponent.react"),{autoFocus:this.state.focusedOnInit,nearByEventsSearchSource:this._nearByEventsSearchSource,onSelect:this._onSelect,taggerData:this.state.taggerData,userInputEventsSearchSource:this._userInputEventsSearchSource})))},_initNearByEventsSearchSource:function j(k){var l=c("XEventsTagEventTypeaheadController").getURIBuilder().setFloat("media_latitude",(k.mediaLocation||{}).latitude).setFloat("media_longitude",(k.mediaLocation||{}).longitude).setInt("media_taken_time",k.mediaTakenTime?k.mediaTakenTime:null).getURI();this._nearByEventsSearchSource=new(c("WebAsyncSearchSource"))({bootstrapRequests:[{uri:l}],getAllForEmptyQuery:true,queryRequests:[{uri:l}]})},_initUserInputEventsSearchSource:function j(){this._userInputEventsSearchSource=new(c("TagEventSproutEventPickerRelaySearchSource"))()},_onSelect:function j(k){__p&&__p();var l=this._getCopyOfData();if(k&&k.mediaTakenTime)l.mediaTakenTime=k.mediaTakenTime;if(k&&k.event){l.eventID=k.event.getUniqueID();l.event=k.event;c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").TAG_EVENT);c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(this.context.composerID,c("TagEventSproutConsts").composer_action_id,l.eventID,this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline)}else{l.eventID=null;l.event=null;c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null)}c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").TAG_EVENT,c("ReactComposerTaggerType").TAG_EVENT,l)},_getCopyOfData:function j(){return Object.assign({},this.state.taggerdata)}});f.exports=i}),null);